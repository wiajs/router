/*!
  * wia router v1.0.26
  * (c) 2014 Sibyl Yu
  * Licensed under the Elastic License 2.0.
  * You may not use this file except in compliance with the Elastic License.
  */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self)["@wiajs/router"]=t()}(this,function(){"use strict";var e,t;function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function a(e){return e<0?-1:0===e?0:1}function n(e,t,r){return r<e?e:r>t?t:r}function o(e){return(e%=360)<0&&(e+=360),e}function i(e,t){return[e[0]*t[0][0]+e[1]*t[0][1]+e[2]*t[0][2],e[0]*t[1][0]+e[1]*t[1][1]+e[2]*t[1][2],e[0]*t[2][0]+e[1]*t[2][1]+e[2]*t[2][2]]}let s=[[.41233895,.35762064,.18051042],[.2126,.7152,.0722],[.01932141,.11916382,.95034478]],l=[[3.2413774792388685,-1.5376652402851851,-.49885366846268053],[-.9691452513005321,1.8758853451067872,.04156585616912061],[.05562093689691305,-.20395524564742123,1.0571799111220335]],c=[95.047,100,108.883];function h(e,t,r){return(-16777216|(255&e)<<16|(255&t)<<8|255&r)>>>0}function u(e){return h(g(e[0]),g(e[1]),g(e[2]))}function d(e){return 116*v(i([f(e>>16&255),f(e>>8&255),f(255&e)],s)[1]/100)-16}function p(e){return 100*function(e){let t=e*e*e;return t>216/24389?t:(116*e-16)/903.2962962962963}((e+16)/116)}function m(e){return 116*v(e/100)-16}function f(e){let t=e/255;return t<=.040449936?t/12.92*100:100*Math.pow((t+.055)/1.055,2.4)}function g(e){var t;let r=e/100;return(t=Math.round(255*(r<=.0031308?12.92*r:1.055*Math.pow(r,1/2.4)-.055)))<0?0:t>255?255:t}function v(e){return e>216/24389?Math.pow(e,1/3):(903.2962962962963*e+16)/116}let y=class e{static make(t=c,r=200/Math.PI*p(50)/100,a=50,n=2,o=!1){var i,s;let l=.401288*t[0]+.650173*t[1]+-.051461*t[2],h=-.250268*t[0]+1.204414*t[1]+.045854*t[2],u=-.002079*t[0]+.048952*t[1]+.953127*t[2],d=.8+n/10,m=d>=.9?(1-(i=10*(d-.9)))*.59+.69*i:(1-(s=10*(d-.8)))*.525+.59*s,f=o?1:d*(1-1/3.6*Math.exp((-r-42)/92)),g=[100/l*(f=f>1?1:f<0?0:f)+1-f,100/h*f+1-f,100/u*f+1-f],v=1/(5*r+1),y=v*v*v*v,w=1-y,b=y*r+.1*w*w*Math.cbrt(5*r),k=p(a)/t[1],C=1.48+Math.sqrt(k),P=.725/Math.pow(k,.2),M=[Math.pow(b*g[0]*l/100,.42),Math.pow(b*g[1]*h/100,.42),Math.pow(b*g[2]*u/100,.42)],x=[400*M[0]/(M[0]+27.13),400*M[1]/(M[1]+27.13),400*M[2]/(M[2]+27.13)];return new e(k,(2*x[0]+x[1]+.05*x[2])*P,P,P,m,d,g,b,Math.pow(b,.25),C)}constructor(e,t,r,a,n,o,i,s,l,c){this.n=e,this.aw=t,this.nbb=r,this.ncb=a,this.c=n,this.nc=o,this.rgbD=i,this.fl=s,this.fLRoot=l,this.z=c}};y.DEFAULT=y.make();let w=class e{distance(e){let t=this.jstar-e.jstar,r=this.astar-e.astar,a=this.bstar-e.bstar;return 1.41*Math.pow(Math.sqrt(t*t+r*r+a*a),.63)}static fromInt(t){return e.fromIntInViewingConditions(t,y.DEFAULT)}static fromIntInViewingConditions(t,r){let n=f((16711680&t)>>16),o=f((65280&t)>>8),i=f(255&t),s=.41233895*n+.35762064*o+.18051042*i,l=.2126*n+.7152*o+.0722*i,c=.01932141*n+.11916382*o+.95034478*i,h=r.rgbD[0]*(.401288*s+.650173*l-.051461*c),u=r.rgbD[1]*(-.250268*s+1.204414*l+.045854*c),d=r.rgbD[2]*(-.002079*s+.048952*l+.953127*c),p=Math.pow(r.fl*Math.abs(h)/100,.42),m=Math.pow(r.fl*Math.abs(u)/100,.42),g=Math.pow(r.fl*Math.abs(d)/100,.42),v=400*a(h)*p/(p+27.13),y=400*a(u)*m/(m+27.13),w=400*a(d)*g/(g+27.13),b=(11*v+-12*y+w)/11,k=(v+y-2*w)/9,C=180*Math.atan2(k,b)/Math.PI,P=C<0?C+360:C>=360?C-360:C,M=P*Math.PI/180,x=100*Math.pow((40*v+20*y+w)/20*r.nbb/r.aw,r.c*r.z),T=4/r.c*Math.sqrt(x/100)*(r.aw+4)*r.fLRoot,E=Math.pow(5e4/13*(.25*(Math.cos((P<20.14?P+360:P)*Math.PI/180+2)+3.8))*r.nc*r.ncb*Math.sqrt(b*b+k*k)/((20*v+20*y+21*w)/20+.305),.9)*Math.pow(1.64-Math.pow(.29,r.n),.73),D=E*Math.sqrt(x/100),S=D*r.fLRoot,_=50*Math.sqrt(E*r.c/(r.aw+4)),L=1/.0228*Math.log(1+.0228*S);return new e(P,D,x,T,S,_,(1+100*.007)*x/(1+.007*x),L*Math.cos(M),L*Math.sin(M))}static fromJch(t,r,a){return e.fromJchInViewingConditions(t,r,a,y.DEFAULT)}static fromJchInViewingConditions(t,r,a,n){let o=4/n.c*Math.sqrt(t/100)*(n.aw+4)*n.fLRoot,i=r*n.fLRoot,s=50*Math.sqrt(r/Math.sqrt(t/100)*n.c/(n.aw+4)),l=a*Math.PI/180,c=1/.0228*Math.log(1+.0228*i);return new e(a,r,t,o,i,s,(1+100*.007)*t/(1+.007*t),c*Math.cos(l),c*Math.sin(l))}static fromUcs(t,r,a){return e.fromUcsInViewingConditions(t,r,a,y.DEFAULT)}static fromUcsInViewingConditions(t,r,a,n){let o=(Math.exp(.0228*Math.sqrt(r*r+a*a))-1)/.0228/n.fLRoot,i=180/Math.PI*Math.atan2(a,r);return i<0&&(i+=360),e.fromJchInViewingConditions(t/(1-.007*(t-100)),o,i,n)}toInt(){return this.viewed(y.DEFAULT)}viewed(e){let t=Math.pow((0===this.chroma||0===this.j?0:this.chroma/Math.sqrt(this.j/100))/Math.pow(1.64-Math.pow(.29,e.n),.73),1/.9),r=this.hue*Math.PI/180,n=.25*(Math.cos(r+2)+3.8),o=e.aw*Math.pow(this.j/100,1/e.c/e.z),i=5e4/13*n*e.nc*e.ncb,s=o/e.nbb,c=Math.sin(r),u=Math.cos(r),d=23*(s+.305)*t/(23*i+11*t*u+108*t*c),p=d*u,m=d*c,f=(460*s+451*p+288*m)/1403,v=(460*s-891*p-261*m)/1403,y=(460*s-220*p-6300*m)/1403,w=Math.max(0,27.13*Math.abs(f)/(400-Math.abs(f))),b=a(f)*(100/e.fl)*Math.pow(w,1/.42),k=Math.max(0,27.13*Math.abs(v)/(400-Math.abs(v))),C=a(v)*(100/e.fl)*Math.pow(k,1/.42),P=Math.max(0,27.13*Math.abs(y)/(400-Math.abs(y))),M=a(y)*(100/e.fl)*Math.pow(P,1/.42),x=b/e.rgbD[0],T=C/e.rgbD[1],E=M/e.rgbD[2];return function(e,t,r){let a=l[0][0]*e+l[0][1]*t+l[0][2]*r,n=l[1][0]*e+l[1][1]*t+l[1][2]*r,o=l[2][0]*e+l[2][1]*t+l[2][2]*r;return h(g(a),g(n),g(o))}(1.86206786*x-1.01125463*T+.14918677*E,.38752654*x+.62144744*T-.00897398*E,-.0158415*x-.03412294*T+1.04996444*E)}static fromXyzInViewingConditions(t,r,n,o){let i=o.rgbD[0]*(.401288*t+.650173*r-.051461*n),s=o.rgbD[1]*(-.250268*t+1.204414*r+.045854*n),l=o.rgbD[2]*(-.002079*t+.048952*r+.953127*n),c=Math.pow(o.fl*Math.abs(i)/100,.42),h=Math.pow(o.fl*Math.abs(s)/100,.42),u=Math.pow(o.fl*Math.abs(l)/100,.42),d=400*a(i)*c/(c+27.13),p=400*a(s)*h/(h+27.13),m=400*a(l)*u/(u+27.13),f=(11*d+-12*p+m)/11,g=(d+p-2*m)/9,v=180*Math.atan2(g,f)/Math.PI,y=v<0?v+360:v>=360?v-360:v,w=y*Math.PI/180,b=100*Math.pow((40*d+20*p+m)/20*o.nbb/o.aw,o.c*o.z),k=4/o.c*Math.sqrt(b/100)*(o.aw+4)*o.fLRoot,C=Math.pow(5e4/13*(1/4*(Math.cos((y<20.14?y+360:y)*Math.PI/180+2)+3.8))*o.nc*o.ncb*Math.sqrt(f*f+g*g)/((20*d+20*p+21*m)/20+.305),.9)*Math.pow(1.64-Math.pow(.29,o.n),.73),P=C*Math.sqrt(b/100),M=P*o.fLRoot,x=50*Math.sqrt(C*o.c/(o.aw+4)),T=Math.log(1+.0228*M)/.0228;return new e(y,P,b,k,M,x,(1+100*.007)*b/(1+.007*b),T*Math.cos(w),T*Math.sin(w))}xyzInViewingConditions(e){let t=Math.pow((0===this.chroma||0===this.j?0:this.chroma/Math.sqrt(this.j/100))/Math.pow(1.64-Math.pow(.29,e.n),.73),1/.9),r=this.hue*Math.PI/180,n=.25*(Math.cos(r+2)+3.8),o=e.aw*Math.pow(this.j/100,1/e.c/e.z),i=5e4/13*n*e.nc*e.ncb,s=o/e.nbb,l=Math.sin(r),c=Math.cos(r),h=23*(s+.305)*t/(23*i+11*t*c+108*t*l),u=h*c,d=h*l,p=(460*s+451*u+288*d)/1403,m=(460*s-891*u-261*d)/1403,f=(460*s-220*u-6300*d)/1403,g=Math.max(0,27.13*Math.abs(p)/(400-Math.abs(p))),v=a(p)*(100/e.fl)*Math.pow(g,1/.42),y=Math.max(0,27.13*Math.abs(m)/(400-Math.abs(m))),w=a(m)*(100/e.fl)*Math.pow(y,1/.42),b=Math.max(0,27.13*Math.abs(f)/(400-Math.abs(f))),k=a(f)*(100/e.fl)*Math.pow(b,1/.42),C=v/e.rgbD[0],P=w/e.rgbD[1],M=k/e.rgbD[2];return[1.86206786*C-1.01125463*P+.14918677*M,.38752654*C+.62144744*P-.00897398*M,-.0158415*C-.03412294*P+1.04996444*M]}constructor(e,t,r,a,n,o,i,s,l){this.hue=e,this.chroma=t,this.j=r,this.q=a,this.m=n,this.s=o,this.jstar=i,this.astar=s,this.bstar=l}},b=class e{static sanitizeRadians(e){return(e+8*Math.PI)%(2*Math.PI)}static trueDelinearized(e){let t=e/100;return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}static chromaticAdaptation(e){let t=Math.pow(Math.abs(e),.42);return 400*a(e)*t/(t+27.13)}static hueOf(t){let r=i(t,e.SCALED_DISCOUNT_FROM_LINRGB),a=e.chromaticAdaptation(r[0]),n=e.chromaticAdaptation(r[1]),o=e.chromaticAdaptation(r[2]);return Math.atan2((a+n-2*o)/9,(11*a+-12*n+o)/11)}static areInCyclicOrder(t,r,a){return e.sanitizeRadians(r-t)<e.sanitizeRadians(a-t)}static intercept(e,t,r){return(t-e)/(r-e)}static lerpPoint(e,t,r){return[e[0]+(r[0]-e[0])*t,e[1]+(r[1]-e[1])*t,e[2]+(r[2]-e[2])*t]}static setCoordinate(t,r,a,n){let o=e.intercept(t[n],r,a[n]);return e.lerpPoint(t,o,a)}static isBounded(e){return 0<=e&&e<=100}static nthVertex(t,r){let a=e.Y_FROM_LINRGB[0],n=e.Y_FROM_LINRGB[1],o=e.Y_FROM_LINRGB[2],i=r%4<=1?0:100,s=r%2==0?0:100;if(r<4){let r=(t-i*n-s*o)/a;return e.isBounded(r)?[r,i,s]:[-1,-1,-1]}if(r<8){let r=(t-s*a-i*o)/n;return e.isBounded(r)?[s,r,i]:[-1,-1,-1]}{let r=(t-i*a-s*n)/o;return e.isBounded(r)?[i,s,r]:[-1,-1,-1]}}static bisectToSegment(t,r){let a=[-1,-1,-1],n=a,o=0,i=0,s=!1,l=!0;for(let c=0;c<12;c++){let h=e.nthVertex(t,c);if(h[0]<0)continue;let u=e.hueOf(h);s?(l||e.areInCyclicOrder(o,u,i))&&(l=!1,e.areInCyclicOrder(o,r,u)?(n=h,i=u):(a=h,o=u)):(a=h,n=h,o=u,i=u,s=!0)}return[a,n]}static midpoint(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2,(e[2]+t[2])/2]}static criticalPlaneBelow(e){return Math.floor(e-.5)}static criticalPlaneAbove(e){return Math.ceil(e-.5)}static bisectToLimit(t,r){let a=e.bisectToSegment(t,r),n=a[0],o=e.hueOf(n),i=a[1];for(let t=0;t<3;t++)if(n[t]!==i[t]){let a=-1,s=255;n[t]<i[t]?(a=e.criticalPlaneBelow(e.trueDelinearized(n[t])),s=e.criticalPlaneAbove(e.trueDelinearized(i[t]))):(a=e.criticalPlaneAbove(e.trueDelinearized(n[t])),s=e.criticalPlaneBelow(e.trueDelinearized(i[t])));for(let l=0;l<8&&!(1>=Math.abs(s-a));l++){let l=Math.floor((a+s)/2),c=e.CRITICAL_PLANES[l],h=e.setCoordinate(n,c,i,t),u=e.hueOf(h);e.areInCyclicOrder(o,r,u)?(i=h,s=l):(n=h,o=u,a=l)}}return e.midpoint(n,i)}static inverseChromaticAdaptation(e){let t=Math.abs(e),r=Math.max(0,27.13*t/(400-t));return a(e)*Math.pow(r,1/.42)}static findResultByJ(t,r,a){let n=11*Math.sqrt(a),o=y.DEFAULT,s=1/Math.pow(1.64-Math.pow(.29,o.n),.73),l=.25*(Math.cos(t+2)+3.8)*(5e4/13)*o.nc*o.ncb,c=Math.sin(t),h=Math.cos(t);for(let t=0;t<5;t++){let d=n/100,p=Math.pow((0===r||0===n?0:r/Math.sqrt(d))*s,1/.9),m=o.aw*Math.pow(d,1/o.c/o.z)/o.nbb,f=23*(m+.305)*p/(23*l+11*p*h+108*p*c),g=f*h,v=f*c,y=(460*m+451*g+288*v)/1403,w=(460*m-891*g-261*v)/1403,b=(460*m-220*g-6300*v)/1403,k=i([e.inverseChromaticAdaptation(y),e.inverseChromaticAdaptation(w),e.inverseChromaticAdaptation(b)],e.LINRGB_FROM_SCALED_DISCOUNT);if(k[0]<0||k[1]<0||k[2]<0)break;let C=e.Y_FROM_LINRGB[0],P=e.Y_FROM_LINRGB[1],M=e.Y_FROM_LINRGB[2],x=C*k[0]+P*k[1]+M*k[2];if(x<=0)break;if(4===t||.002>Math.abs(x-a))return k[0]>100.01||k[1]>100.01||k[2]>100.01?0:u(k);n-=(x-a)*n/(2*x)}return 0}static solveToInt(t,r,a){if(r<1e-4||a<1e-4||a>99.9999)return function(e){let t=g(p(e));return h(t,t,t)}(a);let n=(t=o(t))/180*Math.PI,i=p(a),s=e.findResultByJ(n,r,i);return 0!==s?s:u(e.bisectToLimit(i,n))}static solveToCam(t,r,a){return w.fromInt(e.solveToInt(t,r,a))}};b.SCALED_DISCOUNT_FROM_LINRGB=[[.001200833568784504,.002389694492170889,2795742885861124e-19],[5891086651375999e-19,.0029785502573438758,3270666104008398e-19],[10146692491640572e-20,5364214359186694e-19,.0032979401770712076]],b.LINRGB_FROM_SCALED_DISCOUNT=[[1373.2198709594231,-1100.4251190754821,-7.278681089101213],[-271.815969077903,559.6580465940733,-32.46047482791194],[1.9622899599665666,-57.173814538844006,308.7233197812385]],b.Y_FROM_LINRGB=[.2126,.7152,.0722],b.CRITICAL_PLANES=[.015176349177441876,.045529047532325624,.07588174588720938,.10623444424209313,.13658714259697685,.16693984095186062,.19729253930674434,.2276452376616281,.2579979360165119,.28835063437139563,.3188300904430532,.350925934958123,.3848314933096426,.42057480301049466,.458183274052838,.4976837250274023,.5391024159806381,.5824650784040898,.6277969426914107,.6751227633498623,.7244668422128921,.775853049866786,.829304845476233,.8848452951698498,.942497089126609,1.0022825574869039,1.0642236851973577,1.1283421258858297,1.1946592148522128,1.2631959812511864,1.3339731595349034,1.407011200216447,1.4823302800086415,1.5599503113873272,1.6398909516233677,1.7221716113234105,1.8068114625156377,1.8938294463134073,1.9832442801866852,2.075074464868551,2.1693382909216234,2.2660538449872063,2.36523901573795,2.4669114995532007,2.5710888059345764,2.6777882626779785,2.7870270208169257,2.898822059350997,3.0131901897720907,3.1301480604002863,3.2497121605402226,3.3718988244681087,3.4967242352587946,3.624204428461639,3.754355295633311,3.887192587735158,4.022731918402185,4.160988767090289,4.301978482107941,4.445716283538092,4.592217266055746,4.741496401646282,4.893568542229298,5.048448422192488,5.20615066083972,5.3666897647573375,5.5300801301023865,5.696336044816294,5.865471690767354,6.037501145825082,6.212438385869475,6.390297286737924,6.571091626112461,6.7548350853498045,6.941541251256611,7.131223617812143,7.323895587840543,7.5195704746346665,7.7182615035334345,7.919981813454504,8.124744458384042,8.332562408825165,8.543448553206703,8.757415699253682,8.974476575321063,9.194643831691977,9.417930041841839,9.644347703669503,9.873909240696694,10.106627003236781,10.342513269534024,10.58158024687427,10.8238400726681,11.069304815507364,11.317986476196008,11.569896988756009,11.825048221409341,12.083451977536606,12.345119996613247,12.610063955123938,12.878295467455942,13.149826086772048,13.42466730586372,13.702830557985108,13.984327217668513,14.269168601521828,14.55736596900856,14.848930523210871,15.143873411576273,15.44220572664832,15.743938506781891,16.04908273684337,16.35764934889634,16.66964922287304,16.985093187232053,17.30399201960269,17.62635644741625,17.95219714852476,18.281524751807332,18.614349837764564,18.95068293910138,19.290534541298456,19.633915083172692,19.98083495742689,20.331304511189067,20.685334046541502,21.042933821039977,21.404114048223256,21.76888489811322,22.137256497705877,22.50923893145328,22.884842241736916,23.264076429332462,23.6469514538663,24.033477234264016,24.42366364919083,24.817520537484558,25.21505769858089,25.61628489293138,26.021211842414342,26.429848230738664,26.842203703840827,27.258287870275353,27.678110301598522,28.10168053274597,28.529008062403893,28.96010235337422,29.39497283293396,29.83362889318845,30.276079891419332,30.722335150426627,31.172403958865512,31.62629557157785,32.08401920991837,32.54558406207592,33.010999283389665,33.4802739966603,33.953417292456834,34.430438229418264,34.911345834551085,35.39614910352207,35.88485700094671,36.37747846067349,36.87402238606382,37.37449765026789,37.87891309649659,38.38727753828926,38.89959975977785,39.41588851594697,39.93615253289054,40.460400508064545,40.98864111053629,41.520882981230194,42.05713473317016,42.597404951718396,43.141702194811224,43.6900349931913,44.24241185063697,44.798841244188324,45.35933162437017,45.92389141541209,46.49252901546552,47.065252796817916,47.64207110610409,48.22299226451468,48.808024568002054,49.3971762874833,49.9904556690408,50.587870934119984,51.189430279724725,51.79514187861014,52.40501387947288,53.0190544071392,53.637271562750364,54.259673423945976,54.88626804504493,55.517063457223934,56.15206766869424,56.79128866487574,57.43473440856916,58.08241284012621,58.734331877617365,59.39049941699807,60.05092333227251,60.715611475655585,61.38457167773311,62.057811747619894,62.7353394731159,63.417162620860914,64.10328893648692,64.79372614476921,65.48848194977529,66.18756403501224,66.89098006357258,67.59873767827808,68.31084450182222,69.02730813691093,69.74813616640164,70.47333615344107,71.20291564160104,71.93688215501312,72.67524319850172,73.41800625771542,74.16517879925733,74.9167682708136,75.67278210128072,76.43322770089146,77.1981124613393,77.96744375590167,78.74122893956174,79.51947534912904,80.30219030335869,81.08938110306934,81.88105503125999,82.67721935322541,83.4778813166706,84.28304815182372,85.09272707154808,85.90692527145302,86.72564993000343,87.54890820862819,88.3767072518277,89.2090541872801,90.04595612594655,90.88742016217518,91.73345337380438,92.58406282226491,93.43925555268066,94.29903859396902,95.16341895893969,96.03240364439274,96.9059996312159,97.78421388448044,98.6670533535366,99.55452497210776];let k=class e{static from(t,r,a){return new e(b.solveToInt(t,r,a))}static fromInt(t){return new e(t)}toInt(){return this.argb}get hue(){return this.internalHue}set hue(e){this.setInternalState(b.solveToInt(e,this.internalChroma,this.internalTone))}get chroma(){return this.internalChroma}set chroma(e){this.setInternalState(b.solveToInt(this.internalHue,e,this.internalTone))}get tone(){return this.internalTone}set tone(e){this.setInternalState(b.solveToInt(this.internalHue,this.internalChroma,e))}setInternalState(e){let t=w.fromInt(e);this.internalHue=t.hue,this.internalChroma=t.chroma,this.internalTone=d(e),this.argb=e}inViewingConditions(t){let r=w.fromInt(this.toInt()).xyzInViewingConditions(t),a=w.fromXyzInViewingConditions(r[0],r[1],r[2],y.make());return e.from(a.hue,a.chroma,m(r[1]))}constructor(e){this.argb=e;let t=w.fromInt(e);this.internalHue=t.hue,this.internalChroma=t.chroma,this.internalTone=d(e),this.argb=e}},C=class e{static harmonize(e,t){var r;let a=k.fromInt(e),n=k.fromInt(t),i=Math.min(.5*(180-Math.abs(Math.abs(a.hue-n.hue)-180)),15),s=o(a.hue+i*(r=a.hue,180>=o(n.hue-r)?1:-1));return k.from(s,a.chroma,a.tone).toInt()}static hctHue(t,r,a){let n=e.cam16Ucs(t,r,a),o=w.fromInt(n),i=w.fromInt(t);return k.from(o.hue,i.chroma,d(t)).toInt()}static cam16Ucs(e,t,r){let a=w.fromInt(e),n=w.fromInt(t),o=a.jstar,i=a.astar,s=a.bstar,l=o+(n.jstar-o)*r,c=i+(n.astar-i)*r,h=s+(n.bstar-s)*r;return w.fromUcs(l,c,h).toInt()}},P=class e{static ratioOfTones(t,r){return t=n(0,100,t),r=n(0,100,r),e.ratioOfYs(p(t),p(r))}static ratioOfYs(e,t){let r=e>t?e:t;return(r+5)/((r===t?e:t)+5)}static lighter(t,r){if(t<0||t>100)return -1;let a=p(t),n=r*(a+5)-5,o=e.ratioOfYs(n,a),i=Math.abs(o-r);if(o<r&&i>.04)return -1;let s=m(n)+.4;return s<0||s>100?-1:s}static darker(t,r){if(t<0||t>100)return -1;let a=p(t),n=(a+5)/r-5,o=e.ratioOfYs(a,n),i=Math.abs(o-r);if(o<r&&i>.04)return -1;let s=m(n)-.4;return s<0||s>100?-1:s}static lighterUnsafe(t,r){let a=e.lighter(t,r);return a<0?100:a}static darkerUnsafe(t,r){let a=e.darker(t,r);return a<0?0:a}},M=class e{static isDisliked(e){let t=Math.round(e.hue)>=90&&111>=Math.round(e.hue),r=Math.round(e.chroma)>16,a=65>Math.round(e.tone);return t&&r&&a}static fixIfDisliked(t){return e.isDisliked(t)?k.from(t.hue,t.chroma,70):t}},x=class e{static fromPalette(t){var r,a;return new e(null!=(r=t.name)?r:"",t.palette,t.tone,null!=(a=t.isBackground)&&a,t.background,t.secondBackground,t.contrastCurve,t.toneDeltaPair)}getArgb(e){return this.getHct(e).toInt()}getHct(e){let t=this.hctCache.get(e);if(null!=t)return t;let r=this.getTone(e),a=this.palette(e).getHct(r);return this.hctCache.size>4&&this.hctCache.clear(),this.hctCache.set(e,a),a}getTone(t){let r=t.contrastLevel<0;if(this.toneDeltaPair){let a=this.toneDeltaPair(t),o=a.roleA,i=a.roleB,s=a.delta,l=a.polarity,c=a.stayTogether,h=this.background(t).getTone(t),u="nearer"===l||"lighter"===l&&!t.isDark||"darker"===l&&t.isDark,d=u?o:i,p=u?i:o,m=this.name===d.name,f=t.isDark?1:-1,g=d.contrastCurve.getContrast(t.contrastLevel),v=p.contrastCurve.getContrast(t.contrastLevel),y=d.tone(t),w=P.ratioOfTones(h,y)>=g?y:e.foregroundTone(h,g),b=p.tone(t),k=P.ratioOfTones(h,b)>=v?b:e.foregroundTone(h,v);return r&&(w=e.foregroundTone(h,g),k=e.foregroundTone(h,v)),(k-w)*f>=s||((k=n(0,100,w+s*f))-w)*f>=s||(w=n(0,100,k-s*f)),50<=w&&w<60?k=f>0?Math.max(k,(w=60)+s*f):Math.min(k,(w=49)+s*f):50<=k&&k<60&&(k=c?f>0?Math.max(k,(w=60)+s*f):Math.min(k,(w=49)+s*f):f>0?60:49),m?w:k}{let a=this.tone(t);if(null==this.background)return a;let n=this.background(t).getTone(t),o=this.contrastCurve.getContrast(t.contrastLevel);if(P.ratioOfTones(n,a)>=o||(a=e.foregroundTone(n,o)),r&&(a=e.foregroundTone(n,o)),this.isBackground&&50<=a&&a<60&&(a=P.ratioOfTones(49,n)>=o?49:60),this.secondBackground){let[r,n]=[this.background,this.secondBackground],[i,s]=[r(t).getTone(t),n(t).getTone(t)],[l,c]=[Math.max(i,s),Math.min(i,s)];if(P.ratioOfTones(l,a)>=o&&P.ratioOfTones(c,a)>=o)return a;let h=P.lighter(l,o),u=P.darker(c,o),d=[];return -1!==h&&d.push(h),-1!==u&&d.push(u),e.tonePrefersLightForeground(i)||e.tonePrefersLightForeground(s)?h<0?100:h:1===d.length?d[0]:u<0?0:u}return a}}static foregroundTone(t,r){let a=P.lighterUnsafe(t,r),n=P.darkerUnsafe(t,r),o=P.ratioOfTones(a,t),i=P.ratioOfTones(n,t);if(e.tonePrefersLightForeground(t)){let e=.1>Math.abs(o-i)&&o<r&&i<r;return o>=r||o>=i||e?a:n}return i>=r||i>=o?n:a}static tonePrefersLightForeground(e){return 60>Math.round(e)}static toneAllowsLightForeground(e){return 49>=Math.round(e)}static enableLightForeground(t){return e.tonePrefersLightForeground(t)&&!e.toneAllowsLightForeground(t)?49:t}constructor(e,t,r,a,n,o,i,s){if(this.name=e,this.palette=t,this.tone=r,this.isBackground=a,this.background=n,this.secondBackground=o,this.contrastCurve=i,this.toneDeltaPair=s,this.hctCache=new Map,!n&&o)throw Error(`Color ${e} has secondBackgrounddefined, but background is not defined.`);if(!n&&i)throw Error(`Color ${e} has contrastCurvedefined, but background is not defined.`);if(n&&!i)throw Error(`Color ${e} has backgrounddefined, but contrastCurve is not defined.`)}};(t=e||(e={}))[t.MONOCHROME=0]="MONOCHROME",t[t.NEUTRAL=1]="NEUTRAL",t[t.TONAL_SPOT=2]="TONAL_SPOT",t[t.VIBRANT=3]="VIBRANT",t[t.EXPRESSIVE=4]="EXPRESSIVE",t[t.FIDELITY=5]="FIDELITY",t[t.CONTENT=6]="CONTENT",t[t.RAINBOW=7]="RAINBOW",t[t.FRUIT_SALAD=8]="FRUIT_SALAD";let T=class{getContrast(e){var t,r,a,n,o,i,s,l,c;return e<=-1?this.low:e<0?(t=this.low,r=this.normal,(1-(a=(e- -1)/1))*t+a*r):e<.5?(n=this.normal,o=this.medium,(1-(i=(e-0)/.5))*n+i*o):e<1?(s=this.medium,l=this.high,(1-(c=(e-.5)/.5))*s+c*l):this.high}constructor(e,t,r,a){this.low=e,this.normal=t,this.medium=r,this.high=a}},E=class{constructor(e,t,r,a,n){this.roleA=e,this.roleB=t,this.delta=r,this.polarity=a,this.stayTogether=n}};function D(t){return t.variant===e.FIDELITY||t.variant===e.CONTENT}function S(t){return t.variant===e.MONOCHROME}function _(e,t){let r=e.inViewingConditions(y.make(void 0,void 0,t.isDark?30:80,void 0,void 0));return x.tonePrefersLightForeground(e.tone)&&!x.toneAllowsLightForeground(r.tone)?x.enableLightForeground(e.tone):x.enableLightForeground(r.tone)}let L=class e{static highestSurface(t){return t.isDark?e.surfaceBright:e.surfaceDim}};L.contentAccentToneDelta=15,L.primaryPaletteKeyColor=x.fromPalette({name:"primary_palette_key_color",palette:e=>e.primaryPalette,tone:e=>e.primaryPalette.keyColor.tone}),L.secondaryPaletteKeyColor=x.fromPalette({name:"secondary_palette_key_color",palette:e=>e.secondaryPalette,tone:e=>e.secondaryPalette.keyColor.tone}),L.tertiaryPaletteKeyColor=x.fromPalette({name:"tertiary_palette_key_color",palette:e=>e.tertiaryPalette,tone:e=>e.tertiaryPalette.keyColor.tone}),L.neutralPaletteKeyColor=x.fromPalette({name:"neutral_palette_key_color",palette:e=>e.neutralPalette,tone:e=>e.neutralPalette.keyColor.tone}),L.neutralVariantPaletteKeyColor=x.fromPalette({name:"neutral_variant_palette_key_color",palette:e=>e.neutralVariantPalette,tone:e=>e.neutralVariantPalette.keyColor.tone}),L.background=x.fromPalette({name:"background",palette:e=>e.neutralPalette,tone:e=>e.isDark?6:98,isBackground:!0}),L.onBackground=x.fromPalette({name:"on_background",palette:e=>e.neutralPalette,tone:e=>e.isDark?90:10,background:e=>L.background,contrastCurve:new T(3,3,4.5,7)}),L.surface=x.fromPalette({name:"surface",palette:e=>e.neutralPalette,tone:e=>e.isDark?6:98,isBackground:!0}),L.surfaceDim=x.fromPalette({name:"surface_dim",palette:e=>e.neutralPalette,tone:e=>e.isDark?6:87,isBackground:!0}),L.surfaceBright=x.fromPalette({name:"surface_bright",palette:e=>e.neutralPalette,tone:e=>e.isDark?24:98,isBackground:!0}),L.surfaceContainerLowest=x.fromPalette({name:"surface_container_lowest",palette:e=>e.neutralPalette,tone:e=>e.isDark?4:100,isBackground:!0}),L.surfaceContainerLow=x.fromPalette({name:"surface_container_low",palette:e=>e.neutralPalette,tone:e=>e.isDark?10:96,isBackground:!0}),L.surfaceContainer=x.fromPalette({name:"surface_container",palette:e=>e.neutralPalette,tone:e=>e.isDark?12:94,isBackground:!0}),L.surfaceContainerHigh=x.fromPalette({name:"surface_container_high",palette:e=>e.neutralPalette,tone:e=>e.isDark?17:92,isBackground:!0}),L.surfaceContainerHighest=x.fromPalette({name:"surface_container_highest",palette:e=>e.neutralPalette,tone:e=>e.isDark?22:90,isBackground:!0}),L.onSurface=x.fromPalette({name:"on_surface",palette:e=>e.neutralPalette,tone:e=>e.isDark?90:10,background:e=>L.highestSurface(e),contrastCurve:new T(4.5,7,11,21)}),L.surfaceVariant=x.fromPalette({name:"surface_variant",palette:e=>e.neutralVariantPalette,tone:e=>e.isDark?30:90,isBackground:!0}),L.onSurfaceVariant=x.fromPalette({name:"on_surface_variant",palette:e=>e.neutralVariantPalette,tone:e=>e.isDark?80:30,background:e=>L.highestSurface(e),contrastCurve:new T(3,4.5,7,11)}),L.inverseSurface=x.fromPalette({name:"inverse_surface",palette:e=>e.neutralPalette,tone:e=>e.isDark?90:20}),L.inverseOnSurface=x.fromPalette({name:"inverse_on_surface",palette:e=>e.neutralPalette,tone:e=>e.isDark?20:95,background:e=>L.inverseSurface,contrastCurve:new T(4.5,7,11,21)}),L.outline=x.fromPalette({name:"outline",palette:e=>e.neutralVariantPalette,tone:e=>e.isDark?60:50,background:e=>L.highestSurface(e),contrastCurve:new T(1.5,3,4.5,7)}),L.outlineVariant=x.fromPalette({name:"outline_variant",palette:e=>e.neutralVariantPalette,tone:e=>e.isDark?30:80,background:e=>L.highestSurface(e),contrastCurve:new T(1,1,3,7)}),L.shadow=x.fromPalette({name:"shadow",palette:e=>e.neutralPalette,tone:e=>0}),L.scrim=x.fromPalette({name:"scrim",palette:e=>e.neutralPalette,tone:e=>0}),L.surfaceTint=x.fromPalette({name:"surface_tint",palette:e=>e.primaryPalette,tone:e=>e.isDark?80:40,isBackground:!0}),L.primary=x.fromPalette({name:"primary",palette:e=>e.primaryPalette,tone:e=>S(e)?e.isDark?100:0:e.isDark?80:40,isBackground:!0,background:e=>L.highestSurface(e),contrastCurve:new T(3,4.5,7,11),toneDeltaPair:e=>new E(L.primaryContainer,L.primary,15,"nearer",!1)}),L.onPrimary=x.fromPalette({name:"on_primary",palette:e=>e.primaryPalette,tone:e=>S(e)?e.isDark?10:90:e.isDark?20:100,background:e=>L.primary,contrastCurve:new T(4.5,7,11,21)}),L.primaryContainer=x.fromPalette({name:"primary_container",palette:e=>e.primaryPalette,tone:e=>D(e)?_(e.sourceColorHct,e):S(e)?e.isDark?85:25:e.isDark?30:90,isBackground:!0,background:e=>L.highestSurface(e),contrastCurve:new T(1,1,3,7),toneDeltaPair:e=>new E(L.primaryContainer,L.primary,15,"nearer",!1)}),L.onPrimaryContainer=x.fromPalette({name:"on_primary_container",palette:e=>e.primaryPalette,tone:e=>D(e)?x.foregroundTone(L.primaryContainer.tone(e),4.5):S(e)?e.isDark?0:100:e.isDark?90:10,background:e=>L.primaryContainer,contrastCurve:new T(4.5,7,11,21)}),L.inversePrimary=x.fromPalette({name:"inverse_primary",palette:e=>e.primaryPalette,tone:e=>e.isDark?40:80,background:e=>L.inverseSurface,contrastCurve:new T(3,4.5,7,11)}),L.secondary=x.fromPalette({name:"secondary",palette:e=>e.secondaryPalette,tone:e=>e.isDark?80:40,isBackground:!0,background:e=>L.highestSurface(e),contrastCurve:new T(3,4.5,7,11),toneDeltaPair:e=>new E(L.secondaryContainer,L.secondary,15,"nearer",!1)}),L.onSecondary=x.fromPalette({name:"on_secondary",palette:e=>e.secondaryPalette,tone:e=>S(e)?e.isDark?10:100:e.isDark?20:100,background:e=>L.secondary,contrastCurve:new T(4.5,7,11,21)}),L.secondaryContainer=x.fromPalette({name:"secondary_container",palette:e=>e.secondaryPalette,tone:e=>{let t=e.isDark?30:90;if(S(e))return e.isDark?30:85;if(!D(e))return t;let r=function(e,t,r,a){let n=r,o=k.from(e,t,r);if(o.chroma<t){let r=o.chroma;for(;o.chroma<t;){n+=a?-1:1;let i=k.from(e,t,n);if(r>i.chroma||.4>Math.abs(i.chroma-t))break;Math.abs(i.chroma-t)<Math.abs(o.chroma-t)&&(o=i),r=Math.max(r,i.chroma)}}return n}(e.secondaryPalette.hue,e.secondaryPalette.chroma,t,!e.isDark);return _(e.secondaryPalette.getHct(r),e)},isBackground:!0,background:e=>L.highestSurface(e),contrastCurve:new T(1,1,3,7),toneDeltaPair:e=>new E(L.secondaryContainer,L.secondary,15,"nearer",!1)}),L.onSecondaryContainer=x.fromPalette({name:"on_secondary_container",palette:e=>e.secondaryPalette,tone:e=>D(e)?x.foregroundTone(L.secondaryContainer.tone(e),4.5):e.isDark?90:10,background:e=>L.secondaryContainer,contrastCurve:new T(4.5,7,11,21)}),L.tertiary=x.fromPalette({name:"tertiary",palette:e=>e.tertiaryPalette,tone:e=>S(e)?e.isDark?90:25:e.isDark?80:40,isBackground:!0,background:e=>L.highestSurface(e),contrastCurve:new T(3,4.5,7,11),toneDeltaPair:e=>new E(L.tertiaryContainer,L.tertiary,15,"nearer",!1)}),L.onTertiary=x.fromPalette({name:"on_tertiary",palette:e=>e.tertiaryPalette,tone:e=>S(e)?e.isDark?10:90:e.isDark?20:100,background:e=>L.tertiary,contrastCurve:new T(4.5,7,11,21)}),L.tertiaryContainer=x.fromPalette({name:"tertiary_container",palette:e=>e.tertiaryPalette,tone:e=>{if(S(e))return e.isDark?60:49;if(!D(e))return e.isDark?30:90;let t=_(e.tertiaryPalette.getHct(e.sourceColorHct.tone),e),r=e.tertiaryPalette.getHct(t);return M.fixIfDisliked(r).tone},isBackground:!0,background:e=>L.highestSurface(e),contrastCurve:new T(1,1,3,7),toneDeltaPair:e=>new E(L.tertiaryContainer,L.tertiary,15,"nearer",!1)}),L.onTertiaryContainer=x.fromPalette({name:"on_tertiary_container",palette:e=>e.tertiaryPalette,tone:e=>S(e)?e.isDark?0:100:D(e)?x.foregroundTone(L.tertiaryContainer.tone(e),4.5):e.isDark?90:10,background:e=>L.tertiaryContainer,contrastCurve:new T(4.5,7,11,21)}),L.error=x.fromPalette({name:"error",palette:e=>e.errorPalette,tone:e=>e.isDark?80:40,isBackground:!0,background:e=>L.highestSurface(e),contrastCurve:new T(3,4.5,7,11),toneDeltaPair:e=>new E(L.errorContainer,L.error,15,"nearer",!1)}),L.onError=x.fromPalette({name:"on_error",palette:e=>e.errorPalette,tone:e=>e.isDark?20:100,background:e=>L.error,contrastCurve:new T(4.5,7,11,21)}),L.errorContainer=x.fromPalette({name:"error_container",palette:e=>e.errorPalette,tone:e=>e.isDark?30:90,isBackground:!0,background:e=>L.highestSurface(e),contrastCurve:new T(1,1,3,7),toneDeltaPair:e=>new E(L.errorContainer,L.error,15,"nearer",!1)}),L.onErrorContainer=x.fromPalette({name:"on_error_container",palette:e=>e.errorPalette,tone:e=>e.isDark?90:10,background:e=>L.errorContainer,contrastCurve:new T(4.5,7,11,21)}),L.primaryFixed=x.fromPalette({name:"primary_fixed",palette:e=>e.primaryPalette,tone:e=>S(e)?40:90,isBackground:!0,background:e=>L.highestSurface(e),contrastCurve:new T(1,1,3,7),toneDeltaPair:e=>new E(L.primaryFixed,L.primaryFixedDim,10,"lighter",!0)}),L.primaryFixedDim=x.fromPalette({name:"primary_fixed_dim",palette:e=>e.primaryPalette,tone:e=>S(e)?30:80,isBackground:!0,background:e=>L.highestSurface(e),contrastCurve:new T(1,1,3,7),toneDeltaPair:e=>new E(L.primaryFixed,L.primaryFixedDim,10,"lighter",!0)}),L.onPrimaryFixed=x.fromPalette({name:"on_primary_fixed",palette:e=>e.primaryPalette,tone:e=>S(e)?100:10,background:e=>L.primaryFixedDim,secondBackground:e=>L.primaryFixed,contrastCurve:new T(4.5,7,11,21)}),L.onPrimaryFixedVariant=x.fromPalette({name:"on_primary_fixed_variant",palette:e=>e.primaryPalette,tone:e=>S(e)?90:30,background:e=>L.primaryFixedDim,secondBackground:e=>L.primaryFixed,contrastCurve:new T(3,4.5,7,11)}),L.secondaryFixed=x.fromPalette({name:"secondary_fixed",palette:e=>e.secondaryPalette,tone:e=>S(e)?80:90,isBackground:!0,background:e=>L.highestSurface(e),contrastCurve:new T(1,1,3,7),toneDeltaPair:e=>new E(L.secondaryFixed,L.secondaryFixedDim,10,"lighter",!0)}),L.secondaryFixedDim=x.fromPalette({name:"secondary_fixed_dim",palette:e=>e.secondaryPalette,tone:e=>S(e)?70:80,isBackground:!0,background:e=>L.highestSurface(e),contrastCurve:new T(1,1,3,7),toneDeltaPair:e=>new E(L.secondaryFixed,L.secondaryFixedDim,10,"lighter",!0)}),L.onSecondaryFixed=x.fromPalette({name:"on_secondary_fixed",palette:e=>e.secondaryPalette,tone:e=>10,background:e=>L.secondaryFixedDim,secondBackground:e=>L.secondaryFixed,contrastCurve:new T(4.5,7,11,21)}),L.onSecondaryFixedVariant=x.fromPalette({name:"on_secondary_fixed_variant",palette:e=>e.secondaryPalette,tone:e=>S(e)?25:30,background:e=>L.secondaryFixedDim,secondBackground:e=>L.secondaryFixed,contrastCurve:new T(3,4.5,7,11)}),L.tertiaryFixed=x.fromPalette({name:"tertiary_fixed",palette:e=>e.tertiaryPalette,tone:e=>S(e)?40:90,isBackground:!0,background:e=>L.highestSurface(e),contrastCurve:new T(1,1,3,7),toneDeltaPair:e=>new E(L.tertiaryFixed,L.tertiaryFixedDim,10,"lighter",!0)}),L.tertiaryFixedDim=x.fromPalette({name:"tertiary_fixed_dim",palette:e=>e.tertiaryPalette,tone:e=>S(e)?30:80,isBackground:!0,background:e=>L.highestSurface(e),contrastCurve:new T(1,1,3,7),toneDeltaPair:e=>new E(L.tertiaryFixed,L.tertiaryFixedDim,10,"lighter",!0)}),L.onTertiaryFixed=x.fromPalette({name:"on_tertiary_fixed",palette:e=>e.tertiaryPalette,tone:e=>S(e)?100:10,background:e=>L.tertiaryFixedDim,secondBackground:e=>L.tertiaryFixed,contrastCurve:new T(4.5,7,11,21)}),L.onTertiaryFixedVariant=x.fromPalette({name:"on_tertiary_fixed_variant",palette:e=>e.tertiaryPalette,tone:e=>S(e)?90:30,background:e=>L.tertiaryFixedDim,secondBackground:e=>L.tertiaryFixed,contrastCurve:new T(3,4.5,7,11)});let I=class e{static fromInt(t){let r=k.fromInt(t);return e.fromHct(r)}static fromHct(t){return new e(t.hue,t.chroma,t)}static fromHueAndChroma(t,r){return new e(t,r,e.createKeyColor(t,r))}static createKeyColor(e,t){let r=k.from(e,t,50),a=Math.abs(r.chroma-t);for(let n=1;n<50&&Math.round(t)!==Math.round(r.chroma);n+=1){let o=k.from(e,t,50+n),i=Math.abs(o.chroma-t);i<a&&(a=i,r=o);let s=k.from(e,t,50-n),l=Math.abs(s.chroma-t);l<a&&(a=l,r=s)}return r}tone(e){let t=this.cache.get(e);return void 0===t&&(t=k.from(this.hue,this.chroma,e).toInt(),this.cache.set(e,t)),t}getHct(e){return k.fromInt(this.tone(e))}constructor(e,t,r){this.hue=e,this.chroma=t,this.keyColor=r,this.cache=new Map}},O=class e{static of(t){return new e(t,!1)}static contentOf(t){return new e(t,!0)}static fromColors(t){return e.createPaletteFromColors(!1,t)}static contentFromColors(t){return e.createPaletteFromColors(!0,t)}static createPaletteFromColors(t,r){let a=new e(r.primary,t);if(r.secondary){let n=new e(r.secondary,t);a.a2=n.a1}if(r.tertiary){let n=new e(r.tertiary,t);a.a3=n.a1}if(r.error){let n=new e(r.error,t);a.error=n.a1}if(r.neutral){let n=new e(r.neutral,t);a.n1=n.n1}if(r.neutralVariant){let n=new e(r.neutralVariant,t);a.n2=n.n2}return a}constructor(e,t){let r=k.fromInt(e),a=r.hue,n=r.chroma;t?(this.a1=I.fromHueAndChroma(a,n),this.a2=I.fromHueAndChroma(a,n/3),this.a3=I.fromHueAndChroma(a+60,n/2),this.n1=I.fromHueAndChroma(a,Math.min(n/12,4)),this.n2=I.fromHueAndChroma(a,Math.min(n/6,8))):(this.a1=I.fromHueAndChroma(a,Math.max(48,n)),this.a2=I.fromHueAndChroma(a,16),this.a3=I.fromHueAndChroma(a+60,24),this.n1=I.fromHueAndChroma(a,4),this.n2=I.fromHueAndChroma(a,8)),this.error=I.fromHueAndChroma(25,84)}},A=class e{get primary(){return this.props.primary}get onPrimary(){return this.props.onPrimary}get primaryContainer(){return this.props.primaryContainer}get onPrimaryContainer(){return this.props.onPrimaryContainer}get secondary(){return this.props.secondary}get onSecondary(){return this.props.onSecondary}get secondaryContainer(){return this.props.secondaryContainer}get onSecondaryContainer(){return this.props.onSecondaryContainer}get tertiary(){return this.props.tertiary}get onTertiary(){return this.props.onTertiary}get tertiaryContainer(){return this.props.tertiaryContainer}get onTertiaryContainer(){return this.props.onTertiaryContainer}get error(){return this.props.error}get onError(){return this.props.onError}get errorContainer(){return this.props.errorContainer}get onErrorContainer(){return this.props.onErrorContainer}get background(){return this.props.background}get onBackground(){return this.props.onBackground}get surface(){return this.props.surface}get onSurface(){return this.props.onSurface}get surfaceVariant(){return this.props.surfaceVariant}get onSurfaceVariant(){return this.props.onSurfaceVariant}get outline(){return this.props.outline}get outlineVariant(){return this.props.outlineVariant}get shadow(){return this.props.shadow}get scrim(){return this.props.scrim}get inverseSurface(){return this.props.inverseSurface}get inverseOnSurface(){return this.props.inverseOnSurface}get inversePrimary(){return this.props.inversePrimary}static light(t){return e.lightFromCorePalette(O.of(t))}static dark(t){return e.darkFromCorePalette(O.of(t))}static lightContent(t){return e.lightFromCorePalette(O.contentOf(t))}static darkContent(t){return e.darkFromCorePalette(O.contentOf(t))}static lightFromCorePalette(t){return new e({primary:t.a1.tone(40),onPrimary:t.a1.tone(100),primaryContainer:t.a1.tone(90),onPrimaryContainer:t.a1.tone(10),secondary:t.a2.tone(40),onSecondary:t.a2.tone(100),secondaryContainer:t.a2.tone(90),onSecondaryContainer:t.a2.tone(10),tertiary:t.a3.tone(40),onTertiary:t.a3.tone(100),tertiaryContainer:t.a3.tone(90),onTertiaryContainer:t.a3.tone(10),error:t.error.tone(40),onError:t.error.tone(100),errorContainer:t.error.tone(90),onErrorContainer:t.error.tone(10),background:t.n1.tone(99),onBackground:t.n1.tone(10),surface:t.n1.tone(99),onSurface:t.n1.tone(10),surfaceVariant:t.n2.tone(90),onSurfaceVariant:t.n2.tone(30),outline:t.n2.tone(50),outlineVariant:t.n2.tone(80),shadow:t.n1.tone(0),scrim:t.n1.tone(0),inverseSurface:t.n1.tone(20),inverseOnSurface:t.n1.tone(95),inversePrimary:t.a1.tone(80)})}static darkFromCorePalette(t){return new e({primary:t.a1.tone(80),onPrimary:t.a1.tone(20),primaryContainer:t.a1.tone(30),onPrimaryContainer:t.a1.tone(90),secondary:t.a2.tone(80),onSecondary:t.a2.tone(20),secondaryContainer:t.a2.tone(30),onSecondaryContainer:t.a2.tone(90),tertiary:t.a3.tone(80),onTertiary:t.a3.tone(20),tertiaryContainer:t.a3.tone(30),onTertiaryContainer:t.a3.tone(90),error:t.error.tone(80),onError:t.error.tone(20),errorContainer:t.error.tone(30),onErrorContainer:t.error.tone(80),background:t.n1.tone(10),onBackground:t.n1.tone(90),surface:t.n1.tone(10),onSurface:t.n1.tone(90),surfaceVariant:t.n2.tone(30),onSurfaceVariant:t.n2.tone(80),outline:t.n2.tone(60),outlineVariant:t.n2.tone(30),shadow:t.n1.tone(0),scrim:t.n1.tone(0),inverseSurface:t.n1.tone(90),inverseOnSurface:t.n1.tone(20),inversePrimary:t.a1.tone(40)})}toJSON(){return r({},this.props)}constructor(e){this.props=e}};function H(e){let t=[(e>>16&255).toString(16),(e>>8&255).toString(16),(255&e).toString(16)];for(let[e,r]of t.entries())1===r.length&&(t[e]="0"+r);return"#"+t.join("")}function R(e){let t=3===(e=e.replace("#","")).length,r=6===e.length,a=8===e.length;if(!t&&!r&&!a)throw Error("unexpected hex "+e);let n=0,o=0,i=0;return t?(n=F(e.slice(0,1).repeat(2)),o=F(e.slice(1,2).repeat(2)),i=F(e.slice(2,3).repeat(2))):r?(n=F(e.slice(0,2)),o=F(e.slice(2,4)),i=F(e.slice(4,6))):a&&(n=F(e.slice(2,4)),o=F(e.slice(4,6)),i=F(e.slice(6,8))),(-16777216|(255&n)<<16|(255&o)<<8|255&i)>>>0}function F(e){return parseInt(e,16)}function j(e){let t=Math.round,r=e.length,a={};return"rgb"===e.slice(0,3).toLowerCase()?(e=e.replace(" ","").split(","),a[0]=parseInt(e[0].slice("a"===e[3].toLowerCase()?5:4),10),a[1]=parseInt(e[1],10),a[2]=parseInt(e[2],10),a[3]=e[3]?parseFloat(e[3]):-1):(e=r<6?parseInt(String(e[1])+e[1]+e[2]+e[2]+e[3]+e[3]+(r>4?String(e[4])+e[4]:""),16):parseInt(e.slice(1),16),a[0]=e>>16&255,a[1]=e>>8&255,a[2]=255&e,a[3]=9===r||5===r?t((e>>24&255)/255*1e4)/1e4:-1),a}function N(e,t,r=.5){let a=Math.round;e=e.trim(),t=t.trim(),r=r<0?-1*r:r;let n=j(e),o=j(t);return"r"===t[0]?"rgb"+("a"===t[3]?"a(":"(")+a((o[0]-n[0])*r+n[0])+","+a((o[1]-n[1])*r+n[1])+","+a((o[2]-n[2])*r+n[2])+(n[3]<0&&o[3]<0?"":","+(n[3]>-1&&o[3]>-1?a(((o[3]-n[3])*r+n[3])*1e4)/1e4:o[3]<0?n[3]:o[3]))+")":"#"+(4294967296+(n[3]>-1&&o[3]>-1?a(((o[3]-n[3])*r+n[3])*255):o[3]>-1?a(255*o[3]):n[3]>-1?a(255*n[3]):255)*16777216+65536*a((o[0]-n[0])*r+n[0])+256*a((o[1]-n[1])*r+n[1])+a((o[2]-n[2])*r+n[2])).toString(16).slice(n[3]>-1||o[3]>-1?1:3)}let B=(e="")=>{let t=function(e,t=[]){let r=O.of(e);return{source:e,schemes:{light:A.light(e),dark:A.dark(e)},palettes:{primary:r.a1,secondary:r.a2,tertiary:r.a3,neutral:r.n1,neutralVariant:r.n2,error:r.error},customColors:t.map(t=>(function(e,t){let r=t.value,a=r;t.blend&&(r=C.harmonize(a,e));let n=O.of(r).a1;return{color:t,value:r,light:{color:n.tone(40),onColor:n.tone(100),colorContainer:n.tone(90),onColorContainer:n.tone(10)},dark:{color:n.tone(80),onColor:n.tone(20),colorContainer:n.tone(30),onColorContainer:n.tone(90)}}})(e,t))}}(R(`#${e.replace("#","")}`));[.05,.08,.11,.12,.14].forEach((e,r)=>{t.schemes.light.props[`surface${r+1}`]=R(N(H(t.schemes.light.props.surface),H(t.schemes.light.props.primary),e)),t.schemes.dark.props[`surface${r+1}`]=R(N(H(t.schemes.dark.props.surface),H(t.schemes.dark.props.primary),e))});let r=e=>e.split("").map(e=>e.toUpperCase()===e&&"-"!==e&&"7"!==e?`-${e.toLowerCase()}`:e).join(""),a=e=>["tertiary","shadow","scrim","error","background"].filter(t=>e.toLowerCase().includes(t)).length>0,n={},o={};return Object.keys(t.schemes.light.props).forEach(e=>{a(e)||(n[r(`--f7-md-${e}`)]=H(t.schemes.light.props[e]))}),Object.keys(t.schemes.dark.props).forEach(e=>{a(e)||(o[r(`--f7-md-${e}`)]=H(t.schemes.dark.props[e]))}),{light:n,dark:o}},q=1,U={uniqueNumber:()=>q+=1,id:(e="xxxxxxxxxx",t="0123456789abcdef")=>$.uid(e,t),mdPreloaderContent:`
		<span class="preloader-inner">
			<svg viewBox="0 0 36 36">
				<circle cx="18" cy="18" r="16"></circle>
			</svg>
    </span>
  `.trim(),iosPreloaderContent:`
		<span class="preloader-inner">
			${[0,1,2,3,4,5,6,7].map(()=>'<span class="preloader-inner-line"></span>').join("")}
		</span>
  `.trim(),pcPreloaderContent:`
  <span class="preloader-inner">
    <span class="preloader-inner-circle"></span>
  </span>
`,eventNameToColonCase(e){let t;return e.split("").map((e,r)=>e.match(/[A-Z]/)&&0!==r&&!t?(t=!0,`:${e.toLowerCase()}`):e.toLowerCase()).join("")},deleteProps(e){$.deleteProps(e)},requestAnimationFrame:e=>$.requestAnimationFrame(e),cancelAnimationFrame:e=>$.cancelAnimationFrame(e),nextTick:(e,t=0)=>$.nextTick(e,t),nextFrame:e=>$.nextFrame(e),now:()=>Date.now(),parseUrlQuery:e=>$.urlParam(e),getTranslate:(e,t="x")=>$.getTranslate(e,t),serializeObject(e,t=[]){let r;if("string"==typeof e)return e;let a=[];function n(e){if(t.length>0){let r="";for(let e=0;e<t.length;e+=1)0===e?r+=t[e]:r+=`[${encodeURIComponent(t[e])}]`;return`${r}[${encodeURIComponent(e)}]`}return encodeURIComponent(e)}function o(e){return encodeURIComponent(e)}return Object.keys(e).forEach(i=>{let s;if(Array.isArray(e[i])){s=[];for(let a=0;a<e[i].length;a+=1)Array.isArray(e[i][a])||"object"!=typeof e[i][a]?s.push(`${n(i)}[]=${o(e[i][a])}`):((r=t.slice()).push(i),r.push(String(a)),s.push(U.serializeObject(e[i][a],r)));s.length>0&&a.push(s.join("&"))}else null===e[i]||""===e[i]?a.push(`${n(i)}=`):"object"==typeof e[i]?((r=t.slice()).push(i),""!==(s=U.serializeObject(e[i],r))&&a.push(s)):void 0!==e[i]&&""!==e[i]?a.push(`${n(i)}=${o(e[i])}`):""===e[i]&&a.push(n(i))}),a.join("&")},isObject:e=>"object"==typeof e&&null!==e&&e.constructor&&e.constructor===Object,merge:(...e)=>$.merge(...e),extend(...e){let t=e[0];return e.splice(0,1),$.assign(t,...e)},bindMethods(e,t){Object.keys(t).forEach(r=>{U.isObject(t[r])&&Object.keys(t[r]).forEach(a=>{"function"==typeof t[r][a]&&(t[r][a]=t[r][a].bind(e))}),e[r]=t[r]})},flattenArray(...e){let t=[];return e.forEach(e=>{Array.isArray(e)?t.push(...flattenArray(...e)):t.push(e)}),t},colorHexToRgb(e){let t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(e,t,r,a)=>t+t+r+r+a+a),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return r?r.slice(1).map(e=>parseInt(e,16)):null},colorRgbToHex(e,t,r){let a=[e,t,r].map(e=>{let t=e.toString(16);return 1===t.length?`0${t}`:t}).join("");return`#${a}`},colorRgbToHsl(e,t,r){let a;e/=255,t/=255,r/=255;let n=Math.max(e,t,r),o=Math.min(e,t,r),i=n-o;0===i?a=0:n===e?a=(t-r)/i%6:n===t?a=(r-e)/i+2:n===r&&(a=(e-t)/i+4);let s=(o+n)/2;return a<0&&(a=6+a),[60*a,0===i?0:i/(1-Math.abs(2*s-1)),s]},colorHslToRgb(e,t,r){let a;let n=(1-Math.abs(2*r-1))*t,o=e/60,i=n*(1-Math.abs(o%2-1));Number.isNaN(e)||void 0===e?a=[0,0,0]:o<=1?a=[n,i,0]:o<=2?a=[i,n,0]:o<=3?a=[0,n,i]:o<=4?a=[0,i,n]:o<=5?a=[i,0,n]:o<=6&&(a=[n,0,i]);let s=r-n/2;return a.map(e=>Math.max(0,Math.min(255,Math.round(255*(e+s)))))},colorHsbToHsl(e,t,r){let a={h:e,s:0,l:0},n={s:t,b:r};return a.l=(2-n.s)*n.b/2,a.s=a.l&&a.l<1?n.s*n.b/(a.l<.5?2*a.l:2-2*a.l):a.s,[a.h,a.s,a.l]},colorHslToHsb(e,t,r){let a={h:e,s:0,b:0},n={s:t,l:r},o=n.s*(n.l<.5?n.l:1-n.l);return a.b=n.l+o,a.s=n.l>0?2*o/a.b:a.s,[a.h,a.s,a.b]},getShadeTintColors(e){let t=U.colorRgbToHsl(...e),r=[t[0],t[1],Math.max(0,t[2]-.08)],a=[t[0],t[1],Math.max(0,t[2]+.08)];return{shade:U.colorRgbToHex(...U.colorHslToRgb(...r)),tint:U.colorRgbToHex(...U.colorHslToRgb(...a))}},colorThemeCSSProperties(...e){let t,a;if(1===e.length?(t=e[0],a=U.colorHexToRgb(t)):3===e.length&&(a=e,t=U.colorRgbToHex(...a)),!a)return{};let{light:n,dark:o}=B(t),i=U.getShadeTintColors(a),s=U.getShadeTintColors(U.colorHexToRgb(n["--f7-md-primary"])),l=U.getShadeTintColors(U.colorHexToRgb(o["--f7-md-primary"]));return Object.keys(n).forEach(e=>{e.includes("surface-")&&(n[`${e}-rgb`]=U.colorHexToRgb(n[e]))}),Object.keys(o).forEach(e=>{e.includes("surface-")&&(o[`${e}-rgb`]=U.colorHexToRgb(o[e]))}),{ios:{"--f7-theme-color":"var(--f7-ios-primary)","--f7-theme-color-rgb":"var(--f7-ios-primary-rgb)","--f7-theme-color-shade":"var(--f7-ios-primary-shade)","--f7-theme-color-tint":"var(--f7-ios-primary-tint)"},md:{"--f7-theme-color":"var(--f7-md-primary)","--f7-theme-color-rgb":"var(--f7-md-primary-rgb)","--f7-theme-color-shade":"var(--f7-md-primary-shade)","--f7-theme-color-tint":"var(--f7-md-primary-tint)"},light:r({"--f7-ios-primary":t,"--f7-ios-primary-shade":i.shade,"--f7-ios-primary-tint":i.tint,"--f7-ios-primary-rgb":a.join(", "),"--f7-md-primary-shade":s.shade,"--f7-md-primary-tint":s.tint,"--f7-md-primary-rgb":U.colorHexToRgb(n["--f7-md-primary"]).join(", ")},n),dark:r({"--f7-md-primary-shade":l.shade,"--f7-md-primary-tint":l.tint,"--f7-md-primary-rgb":U.colorHexToRgb(o["--f7-md-primary"]).join(", ")},o)}},colorThemeCSSStyles(e={}){let t=e=>{let t="";return Object.keys(e).forEach(r=>{t+=`${r}:${e[r]};`}),t},r=U.colorThemeCSSProperties(e.primary),a=[":root{",t(r.light),"--swiper-theme-color:var(--f7-theme-color);",...Object.keys(e).map(t=>`--f7-color-${t}: ${e[t]};`),"}",".dark{",t(r.dark),"}",".ios, .ios .dark{",t(r.ios),"}",".md, .md .dark{",t(r.md),"}"].join(""),n={};Object.keys(e).forEach(t=>{let r=e[t];n[t]=U.colorThemeCSSProperties(r)});let o="";return Object.keys(e).forEach(r=>{let{light:a,dark:i,ios:s,md:l}=n[r],c=`
			--f7-ios-primary: #ffffff;
			--f7-ios-primary-shade: #ebebeb;
			--f7-ios-primary-tint: #ffffff;
			--f7-ios-primary-rgb: 255, 255, 255;
			--f7-md-primary-shade: #eee;
			--f7-md-primary-tint: #fff;
			--f7-md-primary-rgb: 255, 255, 255;
			--f7-md-primary: #fff;
			--f7-md-on-primary: #000;
			--f7-md-primary-container: #fff;
			--f7-md-on-primary-container: #000;
			--f7-md-secondary: #fff;
			--f7-md-on-secondary: #000;
			--f7-md-secondary-container: #555;
			--f7-md-on-secondary-container: #fff;
			--f7-md-surface: #fff;
			--f7-md-on-surface: #000;
			--f7-md-surface-variant: #333;
			--f7-md-on-surface-variant: #fff;
			--f7-md-outline: #fff;
			--f7-md-outline-variant: #fff;
			--f7-md-inverse-surface: #000;
			--f7-md-inverse-on-surface: #fff;
			--f7-md-inverse-primary: #000;
			--f7-md-surface-1: #f8f8f8;
			--f7-md-surface-2: #f1f1f1;
			--f7-md-surface-3: #e7e7e7;
			--f7-md-surface-4: #e1e1e1;
			--f7-md-surface-5: #d7d7d7;
			--f7-md-surface-variant-rgb: 51, 51, 51;
			--f7-md-on-surface-variant-rgb: 255, 255, 255;
			--f7-md-surface-1-rgb: 248, 248, 248;
			--f7-md-surface-2-rgb: 241, 241, 241;
			--f7-md-surface-3-rgb: 231, 231, 231;
			--f7-md-surface-4-rgb: 225, 225, 225;
			--f7-md-surface-5-rgb: 215, 215, 215;
			`,h=`
			--f7-ios-primary: #000;
			--f7-ios-primary-shade: #000;
			--f7-ios-primary-tint: #232323;
			--f7-ios-primary-rgb: 0, 0, 0;
			--f7-md-primary-shade: #000;
			--f7-md-primary-tint: #232323;
			--f7-md-primary-rgb: 0, 0, 0;
			--f7-md-primary: #000;
			--f7-md-on-primary: #fff;
			--f7-md-primary-container: #000;
			--f7-md-on-primary-container: #fff;
			--f7-md-secondary: #000;
			--f7-md-on-secondary: #fff;
			--f7-md-secondary-container: #aaa;
			--f7-md-on-secondary-container: #000;
			--f7-md-surface: #000;
			--f7-md-on-surface: #fff;
			--f7-md-surface-variant: #ccc;
			--f7-md-on-surface-variant: #000;
			--f7-md-outline: #000;
			--f7-md-outline-variant: #000;
			--f7-md-inverse-surface: #fff;
			--f7-md-inverse-on-surface: #000;
			--f7-md-inverse-primary: #fff;
			--f7-md-surface-1: #070707;
			--f7-md-surface-2: #161616;
			--f7-md-surface-3: #232323;
			--f7-md-surface-4: #303030;
			--f7-md-surface-5: #373737;
			--f7-md-surface-variant-rgb: 204, 204, 204;
			--f7-md-on-surface-variant-rgb: 0, 0, 0;
			--f7-md-surface-1-rgb: 7, 7, 7;
			--f7-md-surface-2-rgb: 22, 22, 22;
			--f7-md-surface-3-rgb: 35, 35, 35;
			--f7-md-surface-4-rgb: 48, 48, 48;
			--f7-md-surface-5-rgb: 55, 55, 55;
			`,u="white"===r?c:"black"===r?h:t(a),d="white"===r?c:"black"===r?h:t(i);o+=[`.color-${r} {`,u,"--swiper-theme-color: var(--f7-theme-color);","}",`.color-${r}.dark, .color-${r} .dark, .dark .color-${r} {`,d,"--swiper-theme-color: var(--f7-theme-color);","}",`.ios .color-${r}, .ios.color-${r}, .ios .dark .color-${r}, .ios .dark.color-${r} {`,t(s),"}",`.md .color-${r}, .md.color-${r}, .md .dark .color-${r}, .md .dark.color-${r} {`,t(l),"}",`.text-color-${r} {`,`--f7-theme-color-text-color: ${e[r]};`,"}",`.bg-color-${r} {`,`--f7-theme-color-bg-color: ${e[r]};`,"}",`.border-color-${r} {`,`--f7-theme-color-border-color: ${e[r]};`,"}",`.ripple-color-${r} {`,`--f7-theme-color-ripple-color: rgba(${a["--f7-ios-primary-rgb"]}, 0.3);`,"}"].join("")}),`${a}${o}`}},z=class{on(e,t,r=!1){let a=this;if("function"!=typeof t)return a;let n=r?"unshift":"push";return e.split(" ").forEach(e=>{a.eventsListeners[e]||(a.eventsListeners[e]=[]),a.eventsListeners[e][n]({owner:"",appName:"",handler:t})}),a}once(e,t,r=!1){let a=this;if("function"!=typeof t)return a;function n(...t){a.off(e,n),n.proxy&&(n.proxy.apply(a,t),delete n.proxy)}return n.proxy=t,a.on(e,n,r)}off(e,t){let r=this;return r.eventsListeners&&(e?e.split(" ").forEach(e=>{if(void 0===t)r.eventsListeners[e]=[];else if(r.eventsListeners[e]){let n=r.eventsListeners[e];for(let e=n.length-1;e>=0;e--){var a;let r=n[e];(r.handler===t||(null==(a=r.handler)?void 0:a.proxy)===t)&&n.splice(e,1)}}}):r.eventsListeners={}),r}emit(...e){let t,r,a,n;let o=this;if(!o.eventsListeners)return o;let i=!1,s=e[0];if(!s)return o;"string"==typeof s||Array.isArray(s)?(s=s.split(" "),o.pre?(t=[],s.forEach(e=>{t.push(`.${e}`),t.push(`${o.pre}${e[0].toUpperCase()}${e.substr(1)}`)})):t=s,r=e.slice(1,e.length),a=o,n=o.eventsParents):(i=s.pop,t=s.events,r=s.data,a=s.context||o,n=s.local?[]:s.parents||o.eventsParents);let l=Array.isArray(t)?t:t.split(" "),c=l.map(e=>e.replace(/local::|^[.]/,"")),h=null;if(i)h=s;else{let e=l.filter(e=>!e.match(/^local::|^[.]/));(null==e?void 0:e.length)&&(h={pop:!0,events:e,context:o,data:r,owner:"",appName:""})}return c.forEach(e=>{if(o.eventsListeners&&o.eventsListeners[e]){let t=[];o.eventsListeners[e].forEach(e=>{t.push(e.handler)}),t.forEach(e=>{e.apply(a,r)})}}),h&&(null==n?void 0:n.length)>0&&n.forEach(e=>e.emit(h)),o}constructor(e={},t=[],r=""){let a=this;a.params=e,t?Array.isArray(t)?a.eventsParents=t.filter(e=>e):a.eventsParents=[t]:a.eventsParents=[],a.eventsListeners={},a.pre=r,a.params&&a.params.on&&Object.keys(a.params.on).forEach(e=>{a.on(e,a.params.on[e])})}},V=class extends z{load(e){this.emit("local::load pageLoad",e),this.emit("pageLoad",this,e)}ready(e,t,r){this.init(),this.emit("local::ready",e,t,r),this.emit("pageReady",this,e,t,r)}init(e){let{view:t}=this;e=e?$(e):t}show(e,t){e.qus("[name$=-tp]").hide(),e.qus('a[href=""]').attr("href","javascript:;"),this.reset&&this.reset(),this.emit("local::show",e,t),this.emit("pageShow",this,e,t)}back(e,t){e.qus("[name$=-tp]").hide(),e.qus('a[href=""]').attr("href","javascript:;"),this.emit("local::back",e,t),this.emit("pageBack",this,e,t)}change(e,t,r){this.emit("local::change",e,t,r),this.emit("pageChange",this,e,t,r)}hide(e){this.emit("local::hide",e),this.emit("pageHide",this,e)}unload(e){this.emit("local::unload",e),this.emit("pageUnload",this,e)}constructor(e,t,r,a){super(null,[e]),this.app=e,this.cfg=e.cfg,this.name=t,this.title=r,this.style=a||`./page/${t}.css`,this.owner="",this.appName="",this.path="",this.view=null,this.dom=null,this.$el=null,this.el=null,this.html="",this.css="",this.js="",this.data={},this.param={}}},W=class extends z{useModuleParams(e,t){if(e.params){let r={};Object.keys(e.params).forEach(e=>{void 0!==t[e]&&(r[e]=$.extend({},t[e]))}),$.extend(t,e.params),Object.keys(r).forEach(e=>{$.extend(t[e],r[e])})}}useModulesParams(e){let t=this;t.modules&&Object.keys(t.modules).forEach(r=>{let a=t.modules[r];a.params&&$.extend(e,a.params)})}useModule(e="",t={}){let r=this;if(!r.modules)return;let a="string"==typeof e?r.modules[e]:e;a&&(a.instance&&Object.keys(a.instance).forEach(e=>{let t=a.instance[e];"function"==typeof t?r[e]=t.bind(r):r[e]=t}),a.on&&r.on&&Object.keys(a.on).forEach(e=>{r.on(e,function(...t){try{a.on[e].bind(this)(...t)}catch(e){}})}),a.vnode&&(r.vnodeHooks||(r.vnodeHooks={}),Object.keys(a.vnode).forEach(e=>{Object.keys(a.vnode[e]).forEach(t=>{let n=a.vnode[e][t];r.vnodeHooks[t]||(r.vnodeHooks[t]={}),r.vnodeHooks[t][e]||(r.vnodeHooks[t][e]=[]),r.vnodeHooks[t][e].push(n.bind(r))})})),a.create&&a.create.bind(r)(t))}useModules(e={}){let t=this;t.modules&&Object.keys(t.modules).forEach(r=>{let a=e[r]||{};t.useModule(r,a)})}static set components(e){this.use&&this.use(e)}static installModule(e,...t){let r=this;r.prototype.modules||(r.prototype.modules={});let a=e.name||`${Object.keys(r.prototype.modules).length}_${$.now()}`;return r.prototype.modules[a]=e,e.proto&&Object.keys(e.proto).forEach(t=>{r.prototype[t]=e.proto[t]}),e.static&&Object.keys(e.static).forEach(t=>{r[t]=e.static[t]}),e.install&&e.install.apply(r,t),r}static use(e,...t){let r=this;return Array.isArray(e)?(e.forEach(e=>r.installModule(e)),r):r.installModule(e,...t)}constructor(e={},t=[]){super(e,t),this.params=e}};function Y(e={}){let{defaultSelector:t,constructor:r,domProp:a,app:n,addMethods:o}=e,i={create:(...e)=>n?new r(n,...e):new r(...e),get(e=t){if(e instanceof r)return e;let n=$(e);if(0!==n.length)return n[0][a]},destroy(e){let t=i.get(e);if(t&&t.destroy)return t.destroy()}};return o&&Array.isArray(o)&&o.forEach(e=>{i[e]=(r=t,...a)=>{let n=i.get(r);if(n&&n[e])return n[e](...a)}}),i}let J=[],{extend:X}=U,{device:G,support:K}=$,Q={registrations:[],register(e,t){let r=this;return new Promise("serviceWorker"in window.navigator&&r.serviceWorker.container?(a,n)=>{r.serviceWorker.container.register(e,t?{scope:t}:{}).then(e=>{Q.registrations.push(e),r.emit("serviceWorkerRegisterSuccess",e),a(e)}).catch(e=>{r.emit("serviceWorkerRegisterError",e),n(e)})}:(e,t)=>{t(Error("Service worker is not supported"))})},unregister(e){let t=this;return"serviceWorker"in window.navigator&&t.serviceWorker.container?Promise.all((e?Array.isArray(e)?e:[e]:Q.registrations).map(e=>new Promise((r,a)=>{e.unregister().then(()=>{Q.registrations.indexOf(e)>=0&&Q.registrations.splice(Q.registrations.indexOf(e),1),t.emit("serviceWorkerUnregisterSuccess",e),r()}).catch(r=>{t.emit("serviceWorkerUnregisterError",e,r),a(r)})}))):new Promise((e,t)=>{t(Error("Service worker is not supported"))})}},{extend:Z,nextFrame:ee,colorThemeCSSStyles:et}=U,{support:er,device:ea}=$,en={version:"1.0.1",el:"body",root:"body",theme:"auto",language:window.navigator.language,routes:[],name:"App",lazyModulesPath:null,initOnDeviceReady:!0,darkMode:void 0,iosTranslucentBars:!0,iosTranslucentModals:!0,component:void 0,componentUrl:void 0,userAgent:null,url:null,colors:{primary:"#007aff",red:"#ff3b30",green:"#4cd964",blue:"#2196f3",pink:"#ff2d55",yellow:"#ffcc00",orange:"#ff9500",purple:"#9c27b0",deeppurple:"#673ab7",lightblue:"#5ac8fa",teal:"#009688",lime:"#cddc39",deeporange:"#ff6b22",white:"#ffffff",black:"#000000"}},eo=class e extends W{load(e){this.emit("local::load appLoad",e)}show(e,t){this.emit("local::show appShow",e,t)}hide(){this.emit("local::hide appHide")}unload(){this.emit("local::unload appUnload")}setColorTheme(e){e&&(this.colors.primary=e,this.setColors())}setColors(){this.colorsStyleEl||(this.colorsStyleEl=document.createElement("style"),document.head.prepend(this.colorsStyleEl)),this.colorsStyleEl.textContent=et(this.colors)}mount(e){let t=this,r=$(e||t.params.el).eq(0);Z(t,{root:r,$el:r,el:null==r?void 0:r[0],rtl:"rtl"===r.css("direction")}),t.root&&t.root[0]&&(t.root[0].wia=t),t.$el&&t.$el[0]&&(t.$el[0].wia=t),t.el.f7=t;let a="(prefers-color-scheme: dark)",n="(prefers-color-scheme: light)";t.mq={},window.matchMedia&&(t.mq.dark=window.matchMedia(a),t.mq.light=window.matchMedia(n)),t.colorSchemeListener=({matches:e,media:r})=>{if(!e)return;let o=document.querySelector("html");r===a?(o.classList.add("dark"),t.darkMode=!0,t.emit("darkModeChange",!0)):r===n&&(o.classList.remove("dark"),t.darkMode=!1,t.emit("darkModeChange",!1))},t.emit("mount")}initData(){let e=this;e.data={},e.params.data&&"function"==typeof e.params.data?$.extend(e.data,e.params.data.bind(e)()):e.params.data&&$.extend(e.data,e.params.data),e.methods={},e.params.methods&&Object.keys(e.params.methods).forEach(t=>{"function"==typeof e.params.methods[t]?e.methods[t]=e.params.methods[t].bind(e):e.methods[t]=e.params.methods[t]})}enableAutoDarkTheme(){if(!window.matchMedia)return;let e=document.querySelector("html");this.mq.dark&&this.mq.light&&(this.mq.dark.addEventListener("change",this.colorSchemeListener),this.mq.light.addEventListener("change",this.colorSchemeListener)),this.mq.dark&&this.mq.dark.matches?(e.classList.add("dark"),this.darkMode=!0,this.emit("darkModeChange",!0)):this.mq.light&&this.mq.light.matches&&(e.classList.remove("dark"),this.darkMode=!1,this.emit("darkModeChange",!1))}disableAutoDarkTheme(){window.matchMedia&&(this.mq.dark&&this.mq.dark.removeEventListener("change",this.colorSchemeListener),this.mq.light&&this.mq.light.removeEventListener("change",this.colorSchemeListener))}setDarkMode(e){"auto"===e?this.enableAutoDarkMode():(this.disableAutoDarkMode(),$("html")[e?"addClass":"removeClass"]("dark"),this.darkMode=e)}initAppComponent(e){let t=this;t.router.componentLoader(t.params.component,t.params.componentUrl,{componentOptions:{el:t.$el[0]}},r=>{t.$el=$(r),t.$el[0].wia=t,t.$elComponent=r.f7Component,t.el=t.$el[0],e&&e()},()=>{})}init(e){let t=this;t.setColors(),t.mount(e);let r=()=>{if(t.initialized)return t;t.$el.addClass("framework7-initializing"),t.rtl&&$("html").attr("dir","rtl"),void 0===t.params.darkMode?t.darkMode=$("html").hasClass("dark"):t.setDarkMode(t.params.darkMode),window.addEventListener("offline",()=>{t.online=!1,t.emit("offline"),t.emit("connection",!1)}),window.addEventListener("online",()=>{t.online=!0,t.emit("online"),t.emit("connection",!0)}),t.$el.addClass("framework7-root"),$("html").removeClass("ios md pc").addClass(t.theme),t.params.iosTranslucentBars&&"ios"===t.theme&&$("html").addClass("ios-translucent-bars"),t.params.iosTranslucentModals&&"ios"===t.theme&&$("html").addClass("ios-translucent-modals"),ee(()=>{t.$el.removeClass("framework7-initializing")}),function(){let e=[],t=document.querySelector("html"),r=document.querySelector('meta[name="apple-mobile-web-app-status-bar-style"]');t&&(ea.standalone&&ea.ios&&r&&"black-translucent"===r.content&&e.push("device-full-viewport"),e.push(`device-pixel-ratio-${Math.floor(ea.pixelRatio)}`),ea.os&&!ea.desktop?e.push(`device-${ea.os}`):ea.desktop&&(e.push("device-desktop"),ea.os&&e.push(`device-${ea.os}`)),(ea.cordova||ea.phonegap)&&e.push("device-cordova"),e.forEach(e=>{t.classList.add(e)}))}(),t.initialized=!0,t.emit("init")};return t.params.component||t.params.componentUrl?t.initAppComponent(()=>{r()}):r(),t}loadModule(t){e.loadModule(t),this[t.name].init&&this[t.name].init()}loadModules(...t){return e.loadModules(...t)}getVnodeHooks(e,t){return this.vnodeHooks&&this.vnodeHooks[e]&&this.vnodeHooks[e][t]||[]}get $(){return $}static get Dom(){return $}static get $(){return $}static get Module(){return W}static get Event(){return z}static get Class(){return W}static get Events(){return z}constructor(t={}){if(super(t),e.instance&&"undefined"!=typeof window)throw Error("App is already initialized and can't be initialized more than once");let r=Z({},t),a=this;return $.App=e,e.instance=a,a.device=ea,a.support=er,a.useModulesParams(en),a.params=Z(en,t),t.root&&!t.el&&(a.params.el=t.root),$.isPage=e=>e instanceof V,$.isApp=t=>t instanceof e,Z(a,{owner:a.params.owner,name:a.params.name,id:`${a.params.owner}.${a.params.name}`,version:a.params.version,routes:a.params.routes,language:a.params.language,cfg:a.params.cfg,api:a.params.api,theme:"auto"===a.params.theme?ea.ios?"ios":ea.desktop?"pc":"md":a.params.theme,passedParams:r,online:window.navigator.onLine,colors:a.params.colors,darkMode:a.params.darkMode}),t.store&&(a.params.store=params.store),a.touchEvents={start:er.touch?"touchstart":er.pointerEvents?"pointerdown":"mousedown",move:er.touch?"touchmove":er.pointerEvents?"pointermove":"mousemove",end:er.touch?"touchend":er.pointerEvents?"pointerup":"mouseup"},a.useModules(),a.initData(),a.params.init&&(ea.cordova&&a.params.initOnDeviceReady?$(document).on("deviceready",()=>{a.init()}):a.init()),a}};eo.apps={},eo.jsx=function(e,t,...r){let a=t||{},n=Object.keys(a).map(e=>"_"===e[0]?a[e]?e.replace("_",""):"":`${e}="${a[e]}"`).filter(e=>!!e).join(" ");if(["path","img","circle","polygon","line","input"].indexOf(e)>=0)return`<${e} ${n} />`.trim();let o=(r||[]).filter(e=>!!e).map(e=>Array.isArray(e)?e.join(""):e).join("");return`<${e} ${n}>${o}</${e}>`.trim()},eo.ModalMethods=function(e={}){let{defaultSelector:t,constructor:a,app:n}=e;return $.extend(Y({defaultSelector:t,constructor:a,app:n,domProp:"f7Modal"}),{open(e,t,o){let i=$(e);if(i.length>1&&o){let e=$(o).parents(".page");e.length&&i.each(t=>{let r=$(t);r.parents(e)[0]===e[0]&&(i=r)})}if(i.length>1&&(i=i.eq(i.length-1)),!i.length)return;let s=i[0].f7Modal;if(!s){let e=i.dataset();s=new a(n,r({el:i},e))}return s.open(t)},close(e=t,o,i){let s=$(e);if(!s.length)return;if(s.length>1){let e;if(i){let t=$(i);t.length&&(e=t.parents(s))}s=e&&e.length>0?e:s.eq(s.length-1)}let l=s[0].f7Modal;if(!l){let e=s.dataset();l=new a(n,r({el:s},e))}return l.close(o)}})},eo.ConstructorMethods=Y,eo.loadModule=function(e){let t=this;return new Promise((r,a)=>{let n,o,i;let s=t.instance;if(!e){a(Error("Wia: Lazy module must be specified"));return}function l(e){t.use(e),s&&(s.useModuleParams(e,s.params),s.useModule(e))}if("string"==typeof e){let t=e.match(/([a-z0-9-]*)/i);if(0>e.indexOf(".")&&t&&t[0].length===e.length){if(!s||s&&!s.params.lazyModulesPath){a(Error('Wia: "lazyModulesPath" app parameter must be specified to fetch module by name'));return}n=`${s.params.lazyModulesPath}/${e}.js`}else n=e}else"function"==typeof e?i=e:o=e;if(i){let e=i(t,!1);if(!e){a(Error("Wia: Can't find Wia component in specified component function"));return}if(t.prototype.modules&&t.prototype.modules[e.name]){r();return}l(e),r()}if(o){let e=o;if(!e){a(Error("Wia: Can't find Wia component in specified component"));return}if(t.prototype.modules&&t.prototype.modules[e.name]){r();return}l(e),r()}if(n){if(J.indexOf(n)>=0){r();return}J.push(n),Promise.all([new Promise((e,r)=>{t.request.get(n,a=>{let o=$.id(),i=`wia_component_loader_callback_${o}`,s=document.createElement("script");s.innerHTML=`window.${i} = function (Wia, WiaAutoInstallComponent) {return ${a.trim()}}`,$("head").append(s);let c=window[i];delete window[i],$(s).remove();let h=c(t,!1);if(!h){r(Error(`Wia: Can't find Wia component in ${n} file`));return}if(t.prototype.modules&&t.prototype.modules[h.name]){e();return}l(h),e()},(e,t)=>{r(e,t)})}),new Promise(e=>{t.request.get(n.replace(".js",s.rtl?".rtl.css":".css"),t=>{let r=document.createElement("style");r.innerHTML=t,$("head").append(r),e()},()=>{e()})})]).then(()=>{r()}).catch(e=>{a(e)})}})},eo.loadModules=e=>Promise.all(e.map(e=>eo.loadModule(e))),eo.support=er,eo.device=ea,eo.utils=U,eo.use([{name:"resize",instance:{getSize(){if(!this.root[0])return{width:0,height:0,left:0,top:0};let e=this.root.offset(),[t,r,a,n]=[this.root[0].offsetWidth,this.root[0].offsetHeight,e.left,e.top];return this.width=t,this.height=r,this.left=a,this.top=n,{width:t,height:r,left:a,top:n}}},on:{init(){let e=this;e.getSize(),window.addEventListener("resize",()=>{e.emit("resize")},!1),window.addEventListener("orientationchange",()=>{e.emit("orientationchange")})},orientationchange(){this.device.ipad&&(document.body.scrollLeft=0,setTimeout(()=>{document.body.scrollLeft=0},0))},resize(){this.getSize()}}},{name:"clicks",params:{clicks:{externalLinks:".ext"}},on:{init(){var e,t;let r,a;e=this,t=function(t){e.emit({events:"click",data:[t]})},$.support.touch?(document.addEventListener("touchstart",function(e){r=e.changedTouches[0].clientX,a=e.changedTouches[0].clientY},!0),document.addEventListener("touchend",function(e){let n=Math.abs(e.changedTouches[0].clientX-r),o=Math.abs(e.changedTouches[0].clientY-a);n<=5&&o<=5&&t.call(this,e)},!0)):document.addEventListener("click",t,!0),e.on("click",function(t){let r=$(t.target),a=r.closest("a");a.length>0&&a.attr("href"),Object.keys(e.modules).forEach(a=>{let n=e.modules[a].clicks;n&&(t.preventF7Router||Object.keys(n).forEach(a=>{let o=r.closest(a).eq(0);o.length>0&&n[a].call(e,o,o.dataset(),t)}))})})}}},{name:"touch",params:{touch:{touchClicksDistanceThreshold:5,disableContextMenu:!1,tapHold:!1,tapHoldDelay:750,tapHoldPreventClicks:!0,activeState:!0,activeStateElements:"a, button, label, span, .actions-button, .stepper-button, .stepper-button-plus, .stepper-button-minus, .card-expandable, .link, .item-link, .accordion-item-toggle",activeStateOnMouseMove:!1,mdTouchRipple:!0,iosTouchRipple:!1,touchRippleElements:".ripple, .link, .item-link, .list label.item-content, .list-button, .links-list a, .button, button, .input-clear-button, .dialog-button, .tab-link, .item-radio, .item-checkbox, .actions-button, .searchbar-disable-button, .fab a, .checkbox, .radio, .data-table .sortable-cell:not(.input-cell), .notification-close-button, .stepper-button, .stepper-button-minus, .stepper-button-plus, .list.accordion-list .accordion-item-toggle",touchRippleInsetElements:".ripple-inset, .icon-only, .searchbar-disable-button, .input-clear-button, .notification-close-button, .md .navbar .link.back"}},create(){X(this,{touchEvents:{start:K.touch?"touchstart":K.pointerEvents?"pointerdown":"mousedown",move:K.touch?"touchmove":K.pointerEvents?"pointermove":"mousemove",end:K.touch?"touchend":K.pointerEvents?"pointerup":"mouseup"}})},on:{init:function(){let e,t,r,a,n,o,i,s,l,c,h,u,d;let p=this,m=p.params.touch,f=m[`${p.theme}TouchRipple`];function g(e){let t;let r=$(e),a=r.parents(m.activeStateElements);if(r.closest(".no-active-state").length)return null;if(r.is(m.activeStateElements)&&(t=r),a.length>0&&(t=t?t.add(a):a),t&&t.length>1){let e;let r=[];for(let a=0;a<t.length;a+=1)!e&&(r.push(t[a]),(t.eq(a).hasClass("prevent-active-state-propagation")||t.eq(a).hasClass("no-active-state-propagation"))&&(e=!0));t=$(r)}return t||r}function v(e){return e.parents(".page-content").length>0}function y(){s&&s.addClass("active-state")}function w(){s&&(s.removeClass("active-state"),s=null)}function b(e,t,r){e&&(c=p.touchRipple.create(p,e,t,r))}function k(){c&&(c.remove(),c=void 0,h=void 0)}function C(r){if(!(h=function(e){let t=m.touchRippleElements,r=$(e);if(r.is(t))return!r.hasClass("no-ripple")&&r;if(r.parents(t).length>0){let e=r.parents(t).eq(0);return!e.hasClass("no-ripple")&&e}return!1}(r))||0===h.length){h=void 0;return}v(h)?(clearTimeout(u),u=setTimeout(()=>{k(),b(h,e,t)},80)):(k(),b(h,e,t))}function P(){clearTimeout(u),k()}function M(){c||!h||a?k():(clearTimeout(u),b(h,e,t),setTimeout(k,0))}function x(){$(".active-state").removeClass("active-state"),f&&M()}G.ios&&G.webView&&window.addEventListener("touchstart",()=>{});let T=!1,E=null,D=".dialog-button, .actions-button",S=!1,_=null;function L(e,t){p.emit({events:e,data:[t]})}function I(e){L("touchstart touchstart:active",e)}function O(e){L("touchmove touchmove:active",e)}function A(e){L("touchend touchend:active",e)}function H(e){L("touchstart:passive",e)}function R(e){L("touchmove:passive",e)}function F(e){L("touchend:passive",e)}let j=!!K.passiveListener&&{passive:!0},N=!K.passiveListener||{passive:!0,capture:!0},B=!!K.passiveListener&&{passive:!1},q=!K.passiveListener||{passive:!1,capture:!0};K.passiveListener?(document.addEventListener(p.touchEvents.start,I,q),document.addEventListener(p.touchEvents.move,O,B),document.addEventListener(p.touchEvents.end,A,B),document.addEventListener(p.touchEvents.start,H,N),document.addEventListener(p.touchEvents.move,R,j),document.addEventListener(p.touchEvents.end,F,j)):(document.addEventListener(p.touchEvents.start,e=>{I(e),H(e)},!0),document.addEventListener(p.touchEvents.move,e=>{O(e),R(e)},!1),document.addEventListener(p.touchEvents.end,e=>{A(e),F(e)},!1)),K.touch?(p.on("click",function(e){let t=e&&e.detail&&"f7Overswipe"===e.detail,a=e&&e.detail&&"f7Segmented"===e.detail,s=e&&e.detail&&"f7TouchMoveActivable"===e.detail,l=i;return r&&e.target!==r?l=!t&&!a&&!s:s&&(l=!1),m.tapHold&&m.tapHoldPreventClicks&&n&&(l=!0),l&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault()),m.tapHold&&(o=setTimeout(()=>{n=!1},G.ios||G.androidChrome?100:400)),i=!1,r=null,!l}),p.on("touchstart",function(c){return!c.isTrusted||((a=!1,n=!1,i=!1,d=void 0,c.targetTouches.length>1)?s&&w():(c.touches.length>1&&s&&w(),m.tapHold&&(o&&clearTimeout(o),o=setTimeout(()=>{c&&c.touches&&c.touches.length>1||(n=!0,c.preventDefault(),i=!0,$(c.target).trigger("taphold",c),p.emit("taphold",c))},m.tapHoldDelay)),r=c.target,e=c.targetTouches[0].pageX,t=c.targetTouches[0].pageY,T=c.target.closest(".segmented-strong .button-active, .segmented-strong .tab-link-active"),S="ios"===p.theme&&c.target.closest(D),T&&(E=T.closest(".segmented-strong")),m.activeState&&((s=g(r))&&!v(s)?y():s&&(l=setTimeout(y,80))),f&&C(r)),!0)}),p.on("touchmove",function(n){let c,h;if(!n.isTrusted)return;let u=!0;"touchmove"===n.type&&(c=n.targetTouches[0],h=m.touchClicksDistanceThreshold);let p=n.targetTouches[0].pageX,v=n.targetTouches[0].pageY;if(void 0===d&&(d=!!(d||Math.abs(v-t)>Math.abs(p-e))),(S||!d&&T&&E)&&n.cancelable&&n.preventDefault(),!d&&T&&E){let e=document.elementFromPoint(n.targetTouches[0].clientX,n.targetTouches[0].clientY).closest(".segmented-strong .button:not(.button-active):not(.tab-link-active)");e&&E.contains(e)&&($(e).trigger("click","f7Segmented"),r=e)}if(h&&c){let{pageX:r,pageY:n}=c;(Math.abs(r-e)>h||Math.abs(n-t)>h)&&(a=!0)}else a=!0;a&&(i=!0,S&&((_=document.elementFromPoint(n.targetTouches[0].clientX,n.targetTouches[0].clientY).closest(D))&&s&&s[0]===_?u=!1:_&&setTimeout(()=>{s=g(_),y()})),m.tapHold&&clearTimeout(o),m.activeState&&u&&(clearTimeout(l),w()),f&&P())}),p.on("touchend",function(e){return!e.isTrusted||((d=void 0,T=!1,E=null,S=!1,clearTimeout(l),clearTimeout(o),_&&($(_).trigger("click","f7TouchMoveActivable"),_=null),document.activeElement===e.target)?(m.activeState&&w(),f&&M(),!0):(m.activeState&&(y(),setTimeout(w,0)),f&&M(),(!m.tapHoldPreventClicks||!n)&&!i||(e.cancelable&&e.preventDefault(),i=!0,!1)))}),document.addEventListener("touchcancel",function(){r=null,clearTimeout(l),clearTimeout(o),m.activeState&&w(),f&&M()},{passive:!0})):m.activeState&&(p.on("touchstart",function(r){let a=g(r.target);a&&(a.addClass("active-state"),"which"in r&&3===r.which&&setTimeout(()=>{$(".active-state").removeClass("active-state")},0)),f&&(e=r.pageX,t=r.pageY,C(r.target,r.pageX,r.pageY))}),p.on("touchmove",function(){m.activeStateOnMouseMove||$(".active-state").removeClass("active-state"),f&&P()}),p.on("touchend",x),document.addEventListener("pointercancel",x,{passive:!0})),document.addEventListener("contextmenu",e=>{m.disableContextMenu&&(G.ios||G.android||G.cordova||window.Capacitor&&window.Capacitor.isNative)&&e.preventDefault(),f&&(s&&w(),M())})}}},{name:"sw",params:{serviceWorker:{path:void 0,scope:void 0}},create(){$.extend(this,{serviceWorker:{container:"serviceWorker"in window.navigator?window.navigator.serviceWorker:void 0,registrations:Q.registrations,register:Q.register.bind(this),unregister:Q.unregister.bind(this)}})},on:{init(){if(!("serviceWorker"in window.navigator))return;let e=this;if(e.device.cordova||window.Capacitor&&window.Capacitor.isNative||!e.serviceWorker.container)return;let t=e.params.serviceWorker.path,r=e.params.serviceWorker.scope;!t||Array.isArray(t)&&!t.length||(Array.isArray(t)?t:[t]).forEach(t=>{e.serviceWorker.register(t,r)})}}}]),document.body.classList.contains("srcset")||document.createElement("img"),$.support,$.device;let ei=class{getDesc(e){let t="";try{let{m:r}=this,a="",n="";if(e.length>1){let t=e.at(-1);"object"==typeof t?{desc:n,fn:a}=t:"string"==typeof t&&(n=t),(n||a)&&(a=a||this.fn,this.fn=a,e.pop())}a=a||this.fn,r&&(n=`${n}[${r}${a?":"+a:""}]`),t=n}catch(e){}return t}log(...e){let t=e.at(-1);1===e.length&&"object"==typeof t&&t.fn?this.fn="":this.getDesc(e)}debug(...e){this.getDesc(e)}info(...e){this.getDesc(e)}warn(...e){let{desc:t,arg:r}=this.getDesc(e)}trace(...e){let{desc:t,arg:r}=this.getDesc(e)}error(...e){this.getDesc(e)}err(...e){let t=null==e?void 0:e[0];(t instanceof Error||t&&t.message&&t.cause&&t.stack)&&(e[0]={exp:e[0].message}),this.error(...e)}constructor(e){this.m="",this.fn="",this.m=e}};function es(e){let t="",r=e.at(-1);return"string"==typeof r&&(t=r,e.pop()),t}function el(...e){let t=e.at(-1);if(1!==e.length||!(null==t?void 0:t.m)){es(e);return}let r=new ei(null==t?void 0:t.m),a=(...e)=>r.log(...e);return a.debug=r.debug.bind(r),a.info=r.info.bind(r),a.warn=r.warn.bind(r),a.info=r.info.bind(r),a.trace=r.trace.bind(r),a.error=r.error.bind(r),a.err=r.err.bind(r),a}function ec(e,t,r,a,n,o,i){try{var s=e[o](i),l=s.value}catch(e){r(e);return}s.done?t(l):Promise.resolve(l).then(a,n)}function eh(e){return function(){var t=this,r=arguments;return new Promise(function(a,n){var o=e.apply(t,r);function i(e){ec(o,a,n,i,s,"next",e)}function s(e){ec(o,a,n,i,s,"throw",e)}i(void 0)})}}function eu(){return(eu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}el.err=(...e)=>{es(e);let t=null==e?void 0:e[0];(t instanceof Error||t&&t.message&&t.cause&&t.stack)&&(e[0]={exp:e[0].message})},el.error=(...e)=>{es(e)},el.warn=(...e)=>{es(e)},el.info=(...e)=>{es(e)},el.debug=(...e)=>{es(e)},el.trace=(...e)=>{es(e)},el({m:"router"});let ed=window.$,{location:ep}=window,em={wx:7,ms:11,fs:16},ef={el:"#wia-app",view:"wia-view",style:"wia-style",splashTime:1e3,className:"page",nextClass:"page-next",prevClass:"page-previous",showClass:"page-current",cos:"https://cos.wia.pub",ver:"1.0.2",mode:"local",transition:"f7-flip",api:{host:"https://wia.pub",token:"auth/login",login:"auth/login",logout:"auth/logout",getCode:"auth/getCode",getToken:"auth/getToken",checkToken:"auth/checkToken",userInfo:"user/info"}},eg=class extends z{go(e,t=null,r=!1){e=e||"index",e=this.repairUrl(e),ev(ep.href)===e?(this.nextHash=e,this.hash.length&&this.hash[this.hash.length-1]===this.nextHash||this.hash.push(this.nextHash),this.routeTo(e,t,r)):this.setHash(e,t,r)}repairUrl(e){let t="",{opt:r}=this;if(!e)return"";try{if(t=e,"codecamp"===e)t="/nuoya/camp/course/";else if("~"===e)this.owner&&this.appName&&(t=this.owner===r.owner&&this.appName===r.name?"":`/${this.owner}/${this.appName}/`);else if(e.startsWith("../")){let{path:r}=this,a=this.path.lastIndexOf("/");a>-1?(r=r.substring(0,a),r=(a=this.path.lastIndexOf("/"))>-1?r.substring(0,a):""):r="",t=""===r?`/${this.owner}/${this.appName}/${e.substr(3)}`:`/${this.owner}/${this.appName}/${r}/${e.substr(3)}`}else if(e.startsWith("./")&&this.path){let{path:r}=this,a=this.path.lastIndexOf("/");a>-1?(r=r.substring(0,a),t=`/${this.owner}/${this.appName}/${r}/${e.slice(2)}`):t=`/${this.owner}/${this.appName}/${e.slice(2)}`}else if(e.startsWith("/")){if(e.startsWith("/")){let r=e.match(/([^/?]+)\/([^/?]+)\/?([^?]*)([\s\S]*)/);if(r){let e=r[1],a=r[2],n=r[3];e&&a&&!n&&(t=`/${e}/${a}/${r[4]}`)}}}else t=this.owner&&this.appName?`/${this.owner}/${this.appName}/${e}`:this.opt.owner&&this.opt.name?`/${this.opt.owner}/${this.opt.name}/${e}`:`/${e}`;t.endsWith("/index")&&(t=t.replace(/\/index$/,"/")),RegExp(`^/${r.owner}/${r.name}/$`).test(t)&&(t="")}catch(e){}return t}back(e,t=!1){var r;if((null==(r=this.hash)?void 0:r.length)>1){let r=this.hash[this.hash.length-2];this.param[r]=e,this.refresh[r]=t}window.history.back()}loaded(e){return ed.id(e.id)||this.vs[e.id]}load(e,t){var r=this;return eh(function*(){let a;let{opt:n}=r;try{""===e?n.owner&&n.name&&(e=`/${n.owner}/${n.name}/index`):e.endsWith("/")?e+="index":e.includes("/?")&&(e=e.replace("/?","/index?"));let o=e.match(/([^/]+)\/([^/]+)\/?([^?]*)/),i=null==o?void 0:o[1],s=null==o?void 0:o[2],l=null==o?void 0:o[3];if(i&&s&&!l&&(l="index"),!i||!s||!l)throw Error("need owner|name|path");if(!r.findApp(i,s)){yield r.switchApp(i,s,l,t);return}if("local"===n.mode){let e=new Promise((e,a)=>{let o=`${n.cos}/page/${l}.html?v=${Date.now()}`;ed.get(o).then(a=>{var n,o;let c=new(null!=(o=null==(n=r.pages)?void 0:n[`./page/${l}`])?o:__webpack_require__(`./src/page/${l}.js`).default)({app:r.app});c.opt,c.html=r.vite?a.replace('<script type="module" src="/@vite/client"></script>',""):a,c.param=t,c.owner=i,c.appName=s,c.url=`/${i}/${s}/${l}`,c.path=l;let{hash:h}=window.location;h.startsWith("#")&&(h=h.substring(1)),h.startsWith("!")&&(h=h.substring(1)),c.hash=h,r.cachePage(c),e(c)},e=>a(e))}),o=new Promise((e,t)=>{let a=`${n.cos}/page/${l}.css?v=${Date.now()}`;r.vite?import(`${n.cos}/page/${l}.css`).then(t=>e(t)).catch(e=>t(e)):ed.get(a).then(t=>{e(t)},t=>e(""))}),c=yield Promise.all([e,o]),h=c[0];h.css=c[1],h.load&&h.load(t||{}),a=h}else{e=n.cos.includes("localhost:")?`${n.cos}/page/${l}.zip?v=${Date.now()}`:`${n.cos}/${i}/${s}/page/${l}.zip?v=${Date.now()}`;let o=yield ey(e);if(null==o?void 0:o.js){let e=`${i}/${s}/page/${l}.js`;o.js[e],ed.M.m[e]||ed.M.add(o.js);let n=new(ed.M(e)).default({app:r.app});n.opt,n.html=o.html,n.css=o.css,n.param=t,n.owner=i,n.appName=s,n.url=`/${i}/${s}/${l}`,n.path=l,r.cachePage(n),n.load&&n.load(t||{}),a=n}}}catch(e){}return a})()}createApp(e,t){var r=this;return eh(function*(){let a;let{opt:n}=r;try{let s=r.findApp(e,t);if(s)return s;let l=null;if("local"===n.mode){var o,i;e===n.owner&&(l=null!=(i=null==(o=r.pages)?void 0:o["./src/index"])?i:__webpack_require__("./src/index.js").default)}else{let r=`${e}/${t}/index.js`;if(!ed.M.m[r]){let r;r=n.cos.includes("localhost:")?`${n.cos}/index.zip?v=${Date.now()}`:`${n.cos}/${e}/${t}/index.zip?v=${Date.now()}`;let a=yield ey(r);(null==a?void 0:a.js)&&ed.M.add(a.js)}ed.M.m[r]&&(l=ed.M(r).default)}l&&(s=new l({el:n.el||n.root,init:r.init,owner:e,name:t}),r.app=s,r.init=!1,r.apps[`${e}.${t}`]=s,s.ready&&ed.nextTick(()=>{s.ready()}),a=s)}catch(e){}return a})()}showApp(e,t){var r=this;return eh(function*(){let{cfg:a}=e,{home:n}=a;try{if((null==t?void 0:t.loginType)===7&&(null==t?void 0:t.from)==="qr"){let{sid:e,code:r}=t,{appid:n,url:o,scope:i,authSucc:s}=a.wx,{redirect:l}=a.wx,c=encodeURIComponent(`hash=${s}&sid=${e}&from=wx&loginType=7&verifier=${r}`);l=encodeURIComponent(l);let h=`${o}?appid=${n}&redirect_uri=${l}&response_type=code&scope=${i}&state=${c}#wechat_redirect`;ep.href=h;return}ed.nextTick(eh(function*(){var o,i,s,l,c;let{hash:h}=window.location;if(h.startsWith("#")&&(h=h.substring(1)),h.startsWith("!")&&(h=h.substring(1)),!t&&h&&(t=ed.urlParam(h)),null==e?void 0:e.show)try{let r=yield e.show(h,t||{});r&&({hash:h,param:t}=r)}catch(e){}ed.view.qus('a[href=""]').attr("href","javascript:;");let{from:u,to:d,code:p,verifier:m,appid:f,sid:g,master:v,login:y,bindMobile:w,loginType:b}=t||{};f=null!=f?f:a.appid,g=null!=g?g:a.sid,v=null!=(i=null!=v?v:a.master)?i:"",y=null!=(s=null!=y?y:a.login)&&s,w=null!=(l=null!=w?w:a.bindMobile)&&l,d=d||h||n||"index",g&&(g=Number.parseInt(g)),f&&(f=Number.parseInt(f));let k=yield r.getToken(e,g,p,b,m);if(g&&(ed.app.sid=g),f&&(ed.app.id=f),k){let e=ed.app.user;!a.bindMobile||(null==e?void 0:e.mobile)?!v||(null==(c=r.view.qu(".page-master"))?void 0:c.dom)?r.go(d,t):r.go(v,{to:d,param:t}):r.go("login/",{master:v,to:d,param:t})}else!p&&ed.device.wx&&a.wx.autoAuth?r.wxAuth(e,h,t):y?r.go("login/",{master:v,to:d,param:t}):!v||(null==(o=r.view.qu(".page-master"))?void 0:o.dom)?d&&r.go(d,t):r.go(v,{to:d,param:t})}))}catch(e){}})()}wxAuth(e,t,r){let{cfg:a}=e;try{var n;let e="wxAuthCnt",o=null!=(n=ed.store.get(e))?n:0;if(""===o&&(o=0),o=Number.parseInt(o),o++,ed.store.set(e,o,1),o<=a.wx.autoAuth){"object"==typeof r&&Object.keys(r).length&&(r=JSON.stringify(r)),r=null!=r?r:"";let e="";(t||r)&&(e=encodeURIComponent(`hash=${t}&auth=wx&param=${r}`));let n=encodeURIComponent(a.wx.redirect),o=`${a.wx.url}?appid=${a.wx.appid}&redirect_uri=${n}&response_type=code&scope=${a.wx.scope}&state=${e}#wechat_redirect`;window.location.href=o}}catch(e){}}switchApp(e,t,r,a){var n=this;return eh(function*(){let o=!1;try{if(e===n.owner&&t===n.appName)return r&&r!==n.path&&(n.path=r),!0;{e&&(n.owner!==n.lastOwner&&(n.lastOwner=n.owner),n.owner=e),t&&(n.appName!==n.lastName&&(n.lastName=n.appName),n.appName=t),r&&(n.path!==n.lastPath&&(n.lastPath=n.path),n.path=r);let i=n.findApp(e,t);if(i||(i=yield n.createApp(e,t)),i){if(n.lastApp){let e=n.lastApp;e.hide&&ed.nextTick(()=>{e.hide()})}n.app&&(n.lastApp=n.app),n.app=i,ed.app=i,n.lastPage=null,n.page=null,ed.lastPage=null,ed.page=null,yield n.showApp(i,a),o=!0}}}catch(e){}return o})()}getToken(e,t,r,a,n){var o=this;return eh(function*(){let i="",{opt:s}=o,{cfg:l}=e;try{let h=ed.store.get(l.token);if(t&&r&&a){let u;h&&ed.store.remove(l.token);let d=a;d=Number.parseInt(a);let p=`${l[l.mode].api}/${s.api.login}`;d===em.wx&&n&&(u="qr"),[em.ms,em.fs].includes(d)&&(n=ed.store.get("codeVerifier"));let m=yield ed.post(p,{sid:t,code:r,verifier:n,from:u,type:d});if(m){var c;if(200===m.code&&(null==(c=m.data)?void 0:c.token)){h=m.data.token;let t=yield o.getUser(e,h);t?(ed._user=t,ed.app.user=t,ed.store.set(l.token,h),i=h):h=""}}}if(!i&&(!h&&(h=ed.store.get(`nuoya/camp/${l.token}`))&&ed.store.set(l.token,h),h)){let t=ed._user?ed._user:yield o.getUser(e,h);t?(ed._user||(ed._user=t),e.user=t,i=h):0===t?i=h:ed.store.remove(l.token)}}catch(e){}return i})()}getUser(e,t){var r=this;return eh(function*(){let a=null,{cfg:n}=e;try{let e=`${n[n.mode].api}/${r.opt.api.userInfo}`,o=yield ed.post(e,null,{"x-wia-token":t});o&&200===o.code&&(a=o.data)}catch(e){0===e.status&&(a=0)}return a})()}checkToken(e,t){var r=this;return eh(function*(){let a=!1,{cfg:n}=e;try{if(!t)return!1;let e=yield ed.get(`${n[n.mode].api}/${r.opt.api.checkToken}`,`token=${t}`);200===e.code&&(e.data.expire,a=e.data.res)}catch(e){}return a})()}getCode(e,t){var r=this;return eh(function*(){let a="",{cfg:n}=e;try{let e=ed.get(`${n[n.mode].api}/${r.opt.api.getCode}`,`token=${t}`);200===e.code&&(a=e.data)}catch(e){}return a})()}addHtml(e,t,r=!0){let a;let n=this;try{a=new Promise((a,o)=>{if(!e)return o();let i=[];if(t){let t=e.getElementsByTagName("script");if(t.length)for(let e of Array.from(t))e.src&&(i.push(e.src),e.remove())}r?n.view.dom.appendChild(e):n.view.dom.insertBefore(e,n.view.lastChild().dom),i.length?function e(t,r,a,n){if(t>=a.length)return n();let o=a[t],i=`wia_cache_script:${btoa(o)}`,s=(e,t)=>{let a=document.createElement("script");a.text=e,a.setAttribute("data-cached-src",t),r.appendChild(a)},l=e=>{try{let t=JSON.stringify({content:e,timestamp:Date.now()});localStorage.setItem(i,t)}catch(e){"QuotaExceededError"===e.name&&c()}},c=()=>{let e=Date.now();for(let t=0;t<localStorage.length;t++){let r=localStorage.key(t);if(r.startsWith("wia_cache_script:"))try{let t=JSON.parse(localStorage.getItem(r));e-t.timestamp>2592e6&&localStorage.removeItem(r)}catch(e){}}},h=()=>{setTimeout(()=>e(t+1,r,a,n),0)};(()=>{try{let e=localStorage.getItem(i);if(!e)return!1;let{content:t,timestamp:r}=JSON.parse(e);if(Date.now()-r>2592e6)return!1;return s(t,o),!0}catch(e){return!1}})()?h():fetch(o,{cache:"reload"}).then(e=>{if(!e.ok)throw Error(`HTTP ${e.status}`);return e.text()}).then(e=>{s(e,o),l(e)}).catch(e=>{}).finally(()=>{h()})}(0,e,i,a):a()})}catch(e){}return a}addCss(e){if(e.css){let t=`css-${e.id}`,r=ed.id(t);r||((r=document.createElement("style")).id=t,r.innerHTML=e.css,ed("head").append(r))}}removeCss(e){let t=`css-${e.id}`,r=ed.id(t);r&&ed(r).remove()}routeTo(e,t,r=!1,a=""){let n=this;(r=null!=r&&r)||null==t||!t.refresh||(r=!0,delete t.refresh),!a&&(null==t?void 0:t.lastHash)&&(a=t.lastHash,delete t.lastHash);let o=n.findPage(e,t,r);if(o){var i,s;let{master:l,login:c}=o.opt||{};c?(t||(t={}),r&&(t.refresh=!0),a&&(t.lastHash=a),ed.app.user?!l||(null==(i=n.view.qu(".page-master"))?void 0:i.dom)?n.to(o,r,a):n.go(l,{to:e,param:t}):n.go("login/",{master:l,to:e,param:t})):!l||(null==(s=n.view.qu(".page-master"))?void 0:s.dom)?n.to(o,r,a):n.go(l,{to:e,param:t})}else this.load(e,t).then(i=>{if(o=n.findPage(e,t,r)){var s,l;let{master:i,login:c}=o.opt||{};c?(t||(t={}),r&&(t.refresh=!0),a&&(t.lastHash=a),ed.app.user?!i||(null==(s=n.view.qu(".page-master"))?void 0:s.dom)?n.to(o,r,a):n.go(i,{to:e,param:t}):n.go("login/",{master:i,to:e,param:t})):!i||(null==(l=n.view.qu(".page-master"))?void 0:l.dom)?n.to(o,r,a):n.go(i,{to:e,param:t})}})}to(e,t=!1,r=""){let a=this;e&&a.switchApp(e.owner,e.appName,e.path).then(n=>{if(n){var o,i,s;this.lastPage=this.page,this.lastPage&&this.lastPage.scrollTop&&(this.lastPage.scrollTop=null!=(s=null==(i=this.lastPage.view.class("page-content"))?void 0:null==(o=i.dom)?void 0:o.scrollTop)?s:0),this.page=e,ed.page=this.page,ed.lastPage=this.lastPage;let{ids:n}=this;this.backed=!1,n.length>1&&n[n.length-2]===e.id?(this.backed=!0,n.pop()):n.length>0&&n[n.length-1]===e.id?e.change&&e.search!==e.lastSearch&&ed.nextTick(()=>{try{e.change(e.view,e.search,e.lastSearch)}catch(e){}}):(0===n.length||n.length>0&&n[n.length-1]!==e.id)&&(n.length,n.push(e.id));let l=t=>{e.doReady=!1;let n=ed.id(e.id);if(n)this.showHtml(e,n,r);else if((n=this.vs[e.id])||!t||(n=t,this.vs[e.id]=n,e.doReady=!0),n&&this.view){this.vite||this.addCss(e);let t=ed(n),o=t.hasClass("page-master");(this.backed||o)&&this.view.hasChild()?(this.opt.className&&t.addClass(`${this.opt.className}`),this.opt.prevClass&&!o&&t.addClass(`${this.opt.prevClass}`),this.addHtml(n,e.doReady,!1).then(()=>a.showHtml(e,n,r))):(this.opt.className&&t.addClass(`${this.opt.className}`),this.opt.nextClass&&!o&&t.addClass(`${this.opt.nextClass}`),this.addHtml(n,e.doReady).then(()=>a.showHtml(e,n,r)))}};if(t){let t=ed.id(e.id);t&&ed.remove(t),(t=this.vs[e.id])&&delete this.vs[e.id]}this.loaded(e)?l():((t,r="")=>{if(t)throw t;let a=ed(r,!0);a.dom.id=e.id,e.view=a,e.$el=a,e.el=a.dom,e.dom=a.dom,this.vps.set(e.dom,e),l(e.dom)})(null,e.html)}}).catch(e=>void 0)}showHtml(e,t,r){var a,n;e.el!==t&&(e.el=t),e.dom!==t&&(e.dom=t),(null==(a=e.$el)?void 0:a.dom)!==t&&(e.$el=ed(t,!0)),(null==(n=e.view)?void 0:n.dom)!==t&&(e.view=e.$el),this.nextHash&&this.nextHash!==this.hash[this.hash.length-1]||this.switchPage(e,this.backed,r)}parseUrl(e=""){let t={url:e};try{let r=e.indexOf("?");r>=0&&(t.url=e.slice(0,r),t.search=e.slice(r+1),t.search&&(t.param={},t.search.split("&").forEach(e=>{(r=e.indexOf("="))>0&&(t.param[e.substr(0,r)]=e.substr(r+1))}))),RegExp(`/${this.opt.owner}/${this.opt.name}/\\S*index$`).test(t.url)||(t.url=this.repairUrl(t.url));let a=e.match(/([^/]+)\/([^/]+)\/([^?]+)/);a&&(t.path=a[3]),t.url}catch(e){}return t}findPage(e,t,r=!1){let a=null,n=this.parseUrl(e);this.opt.owner&&this.opt.name&&""===n.url?n.url=`/${this.opt.owner}/${this.opt.name}/index`:n.url.endsWith("/")?n.url+="index":n.url.includes("/?")&&(n.url=e.replace("/?","/index?"));let o=this.ps[n.url];return o&&(n.param?o.param=eu({},n.param):o.param={},t&&ed.assign(o.param,t),o.lastSearch=o.search,o.search=n.search,o.refresh=r,a=o),a}findApp(e,t,r,a=!1){let n=null,o=this.apps[`${e}.${t}`];return o&&(o.param={},r&&ed.assign(o.param,r),o.reload=a,n=o),n}cachePage(e){try{if(!e)throw Error("page is empty!");if(!e.url)throw Error("page's url is empty!");return e.id=`${e.url.replace(/\//g,"-")}`,e.id.startsWith("-")&&(e.id=e.id.substr(1)),e.ready=e.ready||ed.noop,e.router=this,this.ps[e.url]=e,this}catch(e){}}aniPage(e,t,r,a){let n=`router-transition-${r||"forward"} router-transition`;if(ed.device.ios)t.animationEnd(()=>{this.view.removeClass(n),a&&a()});else{let o=t;"backward"===r&&(o=e),o.animationEnd(()=>{this.view.removeClass(n),a&&a()})}this.view.addClass(n)}hidePage(e,t){let r=this;if(t&&e)try{t.removeClass(this.opt.showClass),t.removeClass(this.opt.prevClass),t.removeClass(this.opt.nextClass);try{ed.nextTick(()=>{let{path:a,param:n,name:o,title:i,owner:s,appName:l,url:c,hash:h}=e;r.emit("hide",{path:a,param:n,name:o,title:i,owner:s,appName:l,url:c,hash:h}),null==e||e.hide(t,e.param||{})})}catch(e){}t.remove(),this.removeCss(e)}catch(e){}}onShow(e,t){let r=this;try{if(!e)return;let a=e.view;e.doReady&&e.ready&&ed.nextTick(()=>{try{e.ready(a,e.param||{},r.backed,t)}catch(e){}r.pageEvent("init",e,a),ed.fastLink()}),e.back&&r.backed&&ed.nextTick(()=>{try{var n,o,i;let{path:s,param:l,name:c,title:h,owner:u,appName:d,url:p,hash:m}=e;r.emit("back",{path:s,param:l,name:c,title:h,owner:u,appName:d,url:p,hash:m}),(null==(o=a.class("page-content"))?void 0:null==(n=o.dom)?void 0:n.scrollTop)&&(a.class("page-content").dom.scrollTop=null!=(i=e.scrollTop)?i:0),e.back(a,e.param||{},t)}catch(e){}}),e.show&&!r.backed&&ed.nextTick(()=>{try{let{path:n,param:o,name:i,title:s,owner:l,appName:c,url:h,hash:u}=e;r.emit("show",{path:n,param:o,name:i,title:s,owner:l,appName:c,url:h,hash:u}),e.show(a,e.param||{},t)}catch(e){}})}catch(e){}}showPage(e){if(e){let t=e.view;t.removeClass(this.opt.nextClass),t.removeClass(this.opt.prevClass),t.hasClass("page-master")||t.hasClass("page-master-detail")?this.view.addClass("view-master-detail"):this.view.hasClass("view-master-detail")&&this.view.removeClass("view-master-detail"),t.hasClass("page-master")||t.addClass(this.opt.showClass)}}switchPage(e,t,r){if(e)try{var a,n,o;let i=null,s=this.getCurrentPage();s&&((s=ed(s)).hasClass("page-master")?s=null:i=this.vps.get(s.dom));let l=ed.id(e.id);if(l&&(l=e.view).hasClass("page-master")&&(s=null),s&&l&&s.dom===l.dom)return;if((s||l)&&(s&&l?this.noAni?(this.noAni=!1,this.hidePage(i,s),this.onShow(e,r),this.showPage(e)):(this.onShow(e,r),this.aniPage(s,l,t?"backward":"forward",()=>{this.hidePage(i,s),this.showPage(e)})):s?this.hidePage(i,s):l&&(this.onShow(e,r),this.showPage(e))),a=this.page.title,document.title!==a&&(document.title=a),this.hash.length>0){let[e]=this.hash.slice(-1);(null==(n=this.param)?void 0:n[e])&&delete this.param[e],(null==(o=this.refresh)?void 0:o[e])&&delete this.param[e]}}catch(e){}}pageEvent(e,t,r){try{if(!t||!r||!r.length)return;let a=`page${e[0].toUpperCase()+e.slice(1,e.length)}`,n=`page:${e.toLowerCase()}`,o={$el:r,el:r.dom};if("init"===e){if(r[0].f7PageInitialized){r.trigger("page:reinit",o),this.app.emit("pageReinit",o);return}r[0].f7PageInitialized=!0,r.trigger(n,o),this.app.emit(`local::${a}`,o)}}catch(e){}}setHash(e,t=null,r=!1){ep.hash=e,""===e&&history.replaceState(null,"",ep.pathname+ep.search),t&&(this.param||(this.param={}),this.param[e]=t),r&&(this.refresh||(this.refresh={}),this.refresh[e]=r),this.nextHash=e}constructor(e){let t=eu({},ef,e);super(t),this._index=1,this.view=null,this.apps={},this.ps={},this.ids=[],this.vs={},this.vps=new Map,this.url="",this.splash=!0,this.owner="",this.appName="",this.path="",this.lastOwner="",this.lastName="",this.lastPath="",this.param={},this.refresh={},this.page=null,this.hash=[],this.lastHash="",this.nextHash="",this.backed=!1,this.init=!0,this.vite=!1,this.getCurrentPage=()=>ed.qu(`.${this.opt.showClass}`);let r=this;r.opt=t,r.view=ed(`#${r.opt.view}`),r.lastPage=null,r.lastApp=null,ed.view=r.view,ed.router=r,window.addEventListener("hashchange",e=>{var t,a,n,o;let i=ev(e.newURL),s=ev(e.oldURL),l=i||"index";if(i!==(l=r.repairUrl(l))){r.setHash(l);return}if(i===s){r.nextHash="";return}r.backed=!1,r.hash=r.hash||[];let c=r.hash,h=c.length;r.lastHash=h>0?c[h-1]:void 0,h>1&&c[h-2]===i?(r.backed=!0,c.pop()):r.lastHash===i||r.lastHash!==i&&c.push(i),[l]=c.slice(-1),l=null!=l?l:i;let u=null!=(o=null==(t=r.refresh)?void 0:t[l])&&o;(null==(a=r.refresh)?void 0:a[l])&&(r.refresh[l]=!1),r.routeTo(l,null==(n=r.param)?void 0:n[l],u,r.lastHash),r.nextHash=""},!1);let a=ev(),n=ed.urlParam();if(!a&&(null==n?void 0:n.state)){let{state:e}=n,t={};e.split("&").forEach(e=>{let r=e.split("=");t[r[0]]=r[1]});let o={};if(t.param)try{o=JSON.parse(t.param),delete t.param}catch(e){}n=eu({},n,t,o),(a=t.hash)&&(a=r.repairUrl(a),delete n.hash),e&&delete n.state;let i=new URL(window.location.href);i.search="",i.hash=a,history.replaceState(null,"",i.toString())}if(a){let e=r.repairUrl(a);a!==e?r.setHash(e,n,!0):(r.hash.push(e),r.routeTo(e,n,!0),r.nextHash="")}else t.owner&&t.name&&eh(function*(){yield r.switchApp(t.owner,t.name,"",n)})()}};function ev(e){e||(e=ep.href);let t=e.indexOf("#!");return -1!==t?t++:t=e.indexOf("#"),-1!==t?e.substring(t+1):""}function ey(e){return ew.apply(this,arguments)}function ew(){return(ew=eh(function*(e){let t;if(!("DecompressionStream"in window))throw Error("DecompressionStream is not supported in this browser.");try{let r=yield fetch(e);if(!r.ok)throw Error(`HTTP error! Status: ${r.status}`);let a=r.body.pipeThrough(new DecompressionStream("gzip")),n=yield function(e){return eb.apply(this,arguments)}(a);if(n&&/^\s*[{[]/.test(n))try{t=JSON.parse(n)}catch(e){}}catch(e){}return t})).apply(this,arguments)}function eb(){return(eb=eh(function*(e){let t=e.getReader(),r=new TextDecoder,a="",n=!1;for(;!n;){let{value:e,done:o}=yield t.read();n=o,e&&(a+=r.decode(e,{stream:!0}))}return a})).apply(this,arguments)}return ed.go=(e,t=null,r=!1)=>{e.startsWith("http://")||e.startsWith("https://")?window.open(e,"_blank"):ed.router.go(e,t,r)},ed.back=(e,t=!1)=>{ed.router.back(e,t)},ed.repairUrl=e=>ed.router.repairUrl(e),eg.default=eg,eg});